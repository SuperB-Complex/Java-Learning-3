<!DOCTYPE html>
<!-- saved from url=(0080)https://medium.com/@passpied/a-reading-of-elasticsearch-source-code-56d172972783 -->
<html lang="en" data-rh="lang"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/analytics.js"></script><script async="" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/branch-latest.min.js"></script><script defer="" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/16180790160.js"></script><title>A reading of Elasticsearch source code | by passpied | Medium</title><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2014-10-01T15:06:02.950Z"><meta data-rh="true" name="title" content="A reading of Elasticsearch source code | by passpied | Medium"><meta data-rh="true" property="og:title" content="A reading of Elasticsearch source code"><meta data-rh="true" property="twitter:title" content="A reading of Elasticsearch source code"><meta data-rh="true" name="twitter:site" content="@Medium"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/56d172972783"><meta data-rh="true" property="al:android:url" content="medium://p/56d172972783"><meta data-rh="true" property="al:ios:url" content="medium://p/56d172972783"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content="I would say it is a database which is easy to scale with many “search” functions like “auto complete”,”suggestion” or ”image search” etc…and since it is written in Java,you can customize query or…"><meta data-rh="true" property="og:description" content="Everything began from org.elasticsearch.bootstrap.Bootstrap class. What it does is simply initialize modules (or plugins) and start the node"><meta data-rh="true" property="twitter:description" content="Everything began from org.elasticsearch.bootstrap.Bootstrap class. What it does is simply initialize modules (or plugins) and start the node"><meta data-rh="true" property="og:url" content="https://medium.com/@passpied/a-reading-of-elasticsearch-source-code-56d172972783"><meta data-rh="true" property="al:web:url" content="https://medium.com/@passpied/a-reading-of-elasticsearch-source-code-56d172972783"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" property="article:author" content="https://medium.com/@passpied"><meta data-rh="true" name="twitter:creator" content="@wholeearthchann"><meta data-rh="true" name="author" content="passpied"><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" name="twitter:label1" value="Reading time"><meta data-rh="true" name="twitter:data1" value="3 min read"><meta data-rh="true" name="parsely-post-id" content="56d172972783"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="./A reading of Elasticsearch source code _ by passpied _ Medium_files/unbound.css"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="./A reading of Elasticsearch source code _ by passpied _ Medium_files/unbound.css"><link data-rh="true" rel="author" href="https://medium.com/@passpied"><link data-rh="true" rel="canonical" href="https://medium.com/@passpied/a-reading-of-elasticsearch-source-code-56d172972783"><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/56d172972783"><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fproxy\u002F1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"url":"https:\u002F\u002Fmedium.com\u002F@passpied\u002Fa-reading-of-elasticsearch-source-code-56d172972783","dateCreated":"2014-10-01T15:06:02.950Z","datePublished":"2014-10-01T15:06:02.950Z","dateModified":"2018-03-12T05:11:15.874Z","headline":"A reading of Elasticsearch source code - passpied - Medium","name":"A reading of Elasticsearch source code - passpied - Medium","description":"I would say it is a database which is easy to scale with many “search” functions like “auto complete”,”suggestion” or ”image search” etc…and since it is written in Java,you can customize query or…","identifier":"56d172972783","keywords":["Lite:true","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:0"],"author":{"@type":"Person","name":"passpied","url":"https:\u002F\u002Fmedium.com\u002F@passpied"},"creator":["passpied"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@passpied\u002Fa-reading-of-elasticsearch-source-code-56d172972783"}</script><link rel="preload" href="./A reading of Elasticsearch source code _ by passpied _ Medium_files/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="520" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-moz-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-webkit-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-moz-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-webkit-keyframes k3{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k3{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k3{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{height:25px}.r{fill:rgba(41, 41, 41, 1)}.s{display:block}.t{margin-bottom:36px}.v{padding-top:8px}.w{width:100%}.x{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.y{min-height:115px}.ac{flex-direction:column}.ae{display:none}.ag{border-bottom:1px solid rgba(230, 230, 230, 1)}.ah{position:relative}.ai{z-index:500}.ao{max-width:1192px}.ap{min-width:0}.aq{height:62px}.ar{flex-direction:row}.as{flex:1 0 auto}.at{visibility:hidden}.au{margin-right:16px}.av{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.aw{font-size:14px}.ax{line-height:20px}.ay{color:rgba(26, 137, 23, 1)}.az{padding:7px 16px 9px}.ba{background:0}.bb{fill:rgba(26, 137, 23, 1)}.bc{border-color:rgba(26, 137, 23, 1)}.bh:disabled{cursor:inherit}.bi:disabled{opacity:0.3}.bj:disabled:hover{color:rgba(26, 137, 23, 1)}.bk:disabled:hover{fill:rgba(26, 137, 23, 1)}.bl:disabled:hover{border-color:rgba(26, 137, 23, 1)}.bm{border-radius:4px}.bn{border-width:1px}.bo{border-style:solid}.bp{box-sizing:border-box}.bq{display:inline-block}.br{text-decoration:none}.bs{margin-left:0px}.bt{color:rgba(117, 117, 117, 1)}.bu{font-size:inherit}.bv{border:inherit}.bw{font-family:inherit}.bx{letter-spacing:inherit}.by{font-weight:inherit}.bz{padding:0}.ca{margin:0}.cb:disabled{cursor:default}.cc:disabled{color:rgba(163, 208, 162, 0.5)}.cd:disabled{fill:rgba(163, 208, 162, 0.5)}.ce{justify-content:space-between}.ck{align-items:flex-start}.cl{margin-bottom:0px}.cm{margin-top:-32px}.cn{align-items:flex-end}.co{flex-wrap:wrap}.cr{margin-top:32px}.cs{margin-right:24px}.cu{font-weight:700}.cv{font-size:27px}.cw{line-height:34px}.cx:before{margin-bottom:-14px}.cy:before{content:""}.cz:before{display:table}.da:before{border-collapse:collapse}.db:after{margin-top:-6px}.dc:after{content:""}.dd:after{display:table}.de:after{border-collapse:collapse}.df{letter-spacing:0}.dg{color:rgba(25, 25, 25, 1)}.dh{word-break:break-word}.di{font-size:16px}.dj{line-height:24px}.dk:before{margin-bottom:-10px}.dl{margin-right:12px}.dm{display:inline-flex}.dn{color:inherit}.do{fill:inherit}.dr:disabled{color:rgba(117, 117, 117, 1)}.ds:disabled{fill:rgba(117, 117, 117, 1)}.dt{margin-left:12px}.du{margin-left:24px}.dw{margin-bottom:-16px}.dx{margin-top:-14px}.dy{color:rgba(255, 255, 255, 1)}.dz{fill:rgba(255, 255, 255, 1)}.ea{background:rgba(26, 137, 23, 1)}.ec:disabled:hover{background:rgba(26, 137, 23, 1)}.ed{flex:0 0 auto}.ee{justify-self:flex-end}.ef{margin-bottom:-3px}.eg{margin-left:14px}.eh{margin-top:-3px}.ei{padding-top:1px}.ej{height:70px}.ek{margin-right:32px}.en{border-top:none}.eo{border-bottom:none}.ep{left:0}.eq{opacity:0}.er{position:fixed}.es{right:0}.et{top:0}.ev{height:60px}.ey{margin-left:16px}.ez{padding-left:24px}.fa{padding-right:24px}.fb{margin-left:auto}.fc{margin-right:auto}.fd{max-width:728px}.fe{position:absolute}.ff{top:calc(100vh + 100px)}.fg{bottom:calc(100vh + 100px)}.fh{width:10px}.fi{pointer-events:none}.fj{word-wrap:break-word}.fk:after{display:block}.fl:after{clear:both}.fm{max-width:680px}.fn{line-height:1.23}.fo{font-style:normal}.gj{margin-bottom:-0.27em}.gk{color:rgba(41, 41, 41, 1)}.gl{line-height:1.394}.hb{margin-bottom:-0.42em}.hf{border-radius:50%}.hg{height:28px}.hh{width:28px}.hi{margin:0 4px}.hj{margin:0 7px}.hs{padding-right:6px}.ht{margin-right:8px}.hu{fill:rgba(117, 117, 117, 1)}.hv{margin-right:-6px}.hw{line-height:1.58}.hx{letter-spacing:-0.004em}.hy{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.im{margin-top:24px}.in{margin-bottom:-0.46em}.io{line-height:1.18}.ip{letter-spacing:-0.022em}.iq{font-weight:500}.jd{margin-bottom:-0.31em}.jj{box-shadow:inset 3px 0 0 0 rgba(41, 41, 41, 1)}.jk{padding-left:23px}.jl{margin-left:-20px}.jm{font-style:italic}.js{text-decoration:underline}.jt{line-height:1.12}.kh{margin-bottom:-0.28em}.kn{padding:20px}.ko{background:rgba(242, 242, 242, 1)}.kp{overflow-x:auto}.kq{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.kr{margin-top:-0.09em}.ks{margin-bottom:-0.09em}.kt{white-space:pre-wrap}.ku{font-style:inherit}.kv{will-change:opacity}.kw{width:188px}.kx{left:50%}.ky{transform:translateX(406px)}.kz{top:calc(65px + 54px + 14px)}.lc{will-change:opacity, transform}.ld{transform:translateY(159px)}.lf{width:131px}.lg{padding-bottom:28px}.lh{padding-bottom:5px}.li{padding-top:2px}.lj{padding-top:14px}.lk{padding-top:28px}.ll{margin-bottom:19px}.lm{margin-left:-3px}.ls{outline:0}.lt{border:0}.lu{user-select:none}.lv{cursor:pointer}.lw> svg{pointer-events:none}.ly{-webkit-user-select:none}.mi button{text-align:left}.mj{opacity:0.4}.mk{cursor:not-allowed}.ml{padding-right:9px}.mu{margin-top:40px}.mv{clear:both}.mw{padding-bottom:25px}.mx{margin-top:25px}.my{max-width:155px}.nc{top:1px}.nq{margin-left:-1px}.nr{margin-left:-4px}.nz{padding-right:8px}.oa{padding-top:40px}.ob{padding-bottom:4px}.oc{padding-top:32px}.od{background-color:rgba(250, 250, 250, 1)}.ot{overflow:hidden}.ou{text-overflow:ellipsis}.ov{display:-webkit-box}.ow{-webkit-line-clamp:1}.ox{-webkit-box-orient:vertical}.oz{padding-top:5px}.pa{padding-right:168px}.pb{padding-top:25px}.ph{max-width:100%}.pi{background:rgba(255, 255, 255, 1)}.pj{margin-bottom:40px}.pk{padding-bottom:16px}.pl{margin-bottom:24px}.qx{flex-grow:0}.qy{padding-bottom:24px}.qz{max-width:500px}.ra{height:100%}.rb{flex:0 1 auto}.rf{padding-bottom:8px}.rn{font-size:13px}.rr{transition:opacity 100ms 400ms}.rs{will-change:transform}.rt{transform:translateZ(0)}.ru{margin:auto}.rv{background-color:rgba(242, 242, 242, 1)}.rw{padding-bottom:100%}.rx{height:0}.ry{filter:blur(20px)}.rz{transform:scale(1.1)}.sa{visibility:visible}.sl{padding:32px 0}.sm{background-color:rgba(0, 0, 0, 0.9)}.sq:disabled{color:rgba(255, 255, 255, 0.7)}.sr:disabled{fill:rgba(255, 255, 255, 0.7)}.ss{height:22px}.st{color:rgba(255, 255, 255, 0.7)}.su{width:200px}.sw{color:rgba(255, 255, 255, 0.98)}.bd:hover{color:rgba(15, 115, 12, 1)}.be:hover{fill:rgba(15, 115, 12, 1)}.bf:hover{border-color:rgba(15, 115, 12, 1)}.bg:hover{cursor:pointer}.dp:hover{color:rgba(25, 25, 25, 1)}.dq:hover{fill:rgba(25, 25, 25, 1)}.eb:hover{background:rgba(15, 115, 12, 1)}.ma:hover{fill:rgba(117, 117, 117, 1)}.ro:hover{text-decoration:underline}.so:hover{color:rgba(255, 255, 255, 0.99)}.sp:hover{fill:rgba(255, 255, 255, 0.99)}.lz:focus{fill:rgba(117, 117, 117, 1)}.lx:active{border-style:none}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.an{margin:0 64px}.gf{font-size:46px}.gg{margin-top:0.6em}.gh{line-height:56px}.gi{letter-spacing:-0.011em}.gy{font-size:22px}.gz{margin-top:0.92em}.ha{line-height:28px}.hq{margin-left:30px}.ij{font-size:21px}.ik{line-height:32px}.il{letter-spacing:-0.003em}.jb{margin-top:1.72em}.jc{letter-spacing:0}.ji{margin-top:0.86em}.jr{margin-top:2em}.ke{font-size:30px}.kf{margin-top:1.95em}.kg{line-height:36px}.km{margin-top:56px}.lr{margin-right:5px}.mh{margin-top:5px}.mt{padding-left:6px}.ne{display:inline-block}.nj{margin-left:7px}.nk{margin-top:8px}.np{width:25px}.nx{padding-left:7px}.ny{top:3px}.oq{font-size:20px}.or{line-height:24px}.os{max-height:24px}.pg{margin:0}.qa{width:calc(100% + 32px)}.qb{margin-left:-16px}.qc{margin-right:-16px}.qt{padding-left:16px}.qu{padding-right:16px}.qv{flex-basis:25%}.qw{max-width:25%}.rk{font-size:16px}.rl{line-height:20px}.sj{min-width:70px}.sk{min-height:70px}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.hp{margin-left:30px}.lq{margin-right:5px}.mg{margin-top:5px}.ms{padding-left:6px}.nd{display:inline-block}.nh{margin-left:7px}.ni{margin-top:8px}.no{width:25px}.nv{padding-left:7px}.nw{top:3px}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.ho{margin-left:30px}.lp{margin-right:5px}.mf{margin-top:5px}.mq{padding-left:6px}.mr{top:3px}.nb{display:inline-block}.nf{margin-left:7px}.ng{margin-top:8px}.nn{width:15px}.nu{padding-left:3px}.re{margin-right:16px}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.u{margin-bottom:20px}.z{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.ab{min-height:230px}.af{display:block}.cf{min-height:98px}.cg{display:flex}.ch{align-items:flex-start}.ci{flex-direction:column}.cj{justify-content:flex-end}.cp{margin-bottom:28px}.cq{margin-top:0px}.ct{margin-top:28px}.dv{margin-left:24px}.el{border-top:1px solid rgba(230, 230, 230, 1)}.em{border-bottom:1px solid rgba(230, 230, 230, 1)}.ew{align-items:center}.ex{flex:1 0 auto}.hd{margin-top:32px}.he{flex-direction:column-reverse}.hm{margin-bottom:30px}.hn{margin-left:0px}.lo{margin-left:8px}.md{margin-top:2px}.me{margin-right:8px}.mo{padding-left:6px}.mp{top:3px}.na{display:inline-block}.nm{width:15px}.nt{padding-left:3px}.pm{padding-bottom:12px}.pn{margin-top:16px}.rd{margin-right:16px}.rp{margin-left:16px}.rq{margin-right:0px}.sn{padding:32px 0}.sv{width:140px}.sx{margin-bottom:16px}.sy{margin-top:30px}.sz{width:100%}.ta{flex-direction:row}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.aj{margin:0 24px}.fp{font-size:32px}.fq{margin-top:0.64em}.fr{line-height:40px}.fs{letter-spacing:-0.016em}.gm{font-size:18px}.gn{margin-top:0.79em}.go{line-height:24px}.hc{margin-top:32px}.hk{margin-bottom:30px}.hl{margin-left:0px}.hz{line-height:28px}.ia{letter-spacing:-0.003em}.ir{font-size:20px}.is{margin-top:1.23em}.it{letter-spacing:0}.je{margin-top:0.67em}.jn{margin-top:1.56em}.ju{font-size:22px}.jv{margin-top:1.2em}.ki{margin-top:40px}.ln{margin-left:8px}.mb{margin-top:2px}.mc{margin-right:8px}.mm{padding-left:6px}.mn{top:3px}.mz{display:inline-block}.nl{width:15px}.ns{padding-left:3px}.oe{font-size:16px}.of{line-height:20px}.og{max-height:20px}.pc{margin:0}.po{width:calc(100% + 24px)}.pp{margin-left:-12px}.pq{margin-right:-12px}.qd{padding-left:12px}.qe{padding-right:12px}.qf{flex-basis:100%}.qg{max-width:100%}.rc{margin-right:16px}.rm{margin-bottom:0px}.sb{min-width:48px}.sc{min-height:48px}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.am{margin:0 64px}.gb{font-size:46px}.gc{margin-top:0.6em}.gd{line-height:56px}.ge{letter-spacing:-0.011em}.gv{font-size:22px}.gw{margin-top:0.92em}.gx{line-height:28px}.ig{font-size:21px}.ih{line-height:32px}.ii{letter-spacing:-0.003em}.iz{margin-top:1.72em}.ja{letter-spacing:0}.jh{margin-top:0.86em}.jq{margin-top:2em}.kb{font-size:30px}.kc{margin-top:1.95em}.kd{line-height:36px}.kl{margin-top:56px}.on{font-size:20px}.oo{line-height:24px}.op{max-height:24px}.pf{margin:0}.px{width:calc(100% + 32px)}.py{margin-left:-16px}.pz{margin-right:-16px}.qp{padding-left:16px}.qq{padding-right:16px}.qr{flex-basis:25%}.qs{max-width:25%}.ri{font-size:16px}.rj{line-height:20px}.sh{min-width:70px}.si{min-height:70px}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.al{margin:0 48px}.fx{font-size:46px}.fy{margin-top:0.6em}.fz{line-height:56px}.ga{letter-spacing:-0.011em}.gs{font-size:22px}.gt{margin-top:0.92em}.gu{line-height:28px}.id{font-size:21px}.ie{line-height:32px}.if{letter-spacing:-0.003em}.ix{margin-top:1.72em}.iy{letter-spacing:0}.jg{margin-top:0.86em}.jp{margin-top:2em}.jy{font-size:30px}.jz{margin-top:1.95em}.ka{line-height:36px}.kk{margin-top:56px}.ok{font-size:20px}.ol{line-height:24px}.om{max-height:24px}.pe{margin:0}.pu{width:calc(100% + 28px)}.pv{margin-left:-14px}.pw{margin-right:-14px}.ql{padding-left:14px}.qm{padding-right:14px}.qn{flex-basis:50%}.qo{max-width:50%}.rg{font-size:16px}.rh{line-height:20px}.sf{min-width:48px}.sg{min-height:48px}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ak{margin:0 24px}.ft{font-size:32px}.fu{margin-top:0.64em}.fv{line-height:40px}.fw{letter-spacing:-0.016em}.gp{font-size:18px}.gq{margin-top:0.79em}.gr{line-height:24px}.ib{line-height:28px}.ic{letter-spacing:-0.003em}.iu{font-size:20px}.iv{margin-top:1.23em}.iw{letter-spacing:0}.jf{margin-top:0.67em}.jo{margin-top:1.56em}.jw{font-size:22px}.jx{margin-top:1.2em}.kj{margin-top:40px}.oh{font-size:16px}.oi{line-height:20px}.oj{max-height:20px}.pd{margin:0}.pr{width:calc(100% + 24px)}.ps{margin-left:-12px}.pt{margin-right:-12px}.qh{padding-left:12px}.qi{padding-right:12px}.qj{flex-basis:100%}.qk{max-width:100%}.sd{min-width:48px}.se{min-height:48px}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="print">.hr{display:none}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.eu{animation:k2 .2s ease-in-out both}.la{transition:opacity 200ms}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (max-width: 1230px)">.lb{display:none}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="all and (max-width: 1198px)">.le{display:none}</style><style type="text/css" data-fela-rehydration="520" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.oy{max-height:none}</style><style id="googleidentityservice_button_styles">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:'Roboto-Regular',arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b>.aZ2wEe>div{border-color:#4285f4}.P1ekSe-ZMv3u>div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u>div:nth-child(2),.P1ekSe-ZMv3u>div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,0.7),rgba(255,255,255,0.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:'Google Sans',arial,sans-serif;font-size:14px;height:40px;letter-spacing:.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:'Google Sans',arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d2e3fc;outline:none}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,0.04)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,0.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,0.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,0.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:'Roboto';font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}
/*# sourceURL=/_/gsi/_/ss/k=gsi.gsi.LI6htHHG7gI.L.W.O/am=Ug/d=1/ct=zgms/rs=AF0KOtUc_VyyP673C_q0wsv4K1f8jY8YKw/m=gis_client_button_style */</style><link id="googleidentityservice" type="text/css" media="all" rel="stylesheet" href="./A reading of Elasticsearch source code _ by passpied _ Medium_files/style"><script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0);
branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {metadata: {}, 'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script></head><body data-new-gr-c-s-loaded="14.997.0"><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div><script>if (window.self !== window.top) window.location = "about:blank"</script></div><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><div class="s"><div class="t s u"><div class="x y s z ab"><div class="n ac"><div class="ae af"><div class="ag s ah ai"><div class="n p"><div class="aj ak al am an ao ap w"><div class="aq n o"><div class="n o ar as"><div class="sa" id="lo-meta-header-sign-up-button"><div class="au s"><span><button class="av b aw ax ay az ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br">Get started</button></span></div></div><div class="sa" id="lo-ShowPostUnderUser-navbar-open-in-app-button"><div class="bs ae af"><span class="av b aw ax bt"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F56d172972783&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar&amp;source=post_page-----56d172972783--------------------------------" class="ay bb bu bv bw bx by bz ca bg bd be cb cc cd" rel="noopener nofollow">Open in app</a></span></div></div></div><a aria-label="Homepage" rel="noopener" href="https://medium.com/?source=post_page-----56d172972783--------------------------------"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div><div class="n p"><div class="aj ak al am an ao ap w"><div class="y n o ar ce cf cg ch ci cj"><div class="w n ck ce"><div class="v n w"><div class="cl cm w n cn ar co cp cq cg ch ci"><div class="cr cs s ct"><a aria-label="Author Homepage" rel="noopener" href="https://medium.com/@passpied?source=post_page-----56d172972783--------------------------------"><span class="av cu cv cw cx cy cz da db dc dd de df dg dh">passpied</span></a></div><div class="cr s g"><span class="av b di dj dk cy cz da db dc dd de bt"><div class="n o"><div class="dl dm ac"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@passpied/followers?source=post_page-----56d172972783--------------------------------">17 Followers</a></div><div class="dt n ac"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@passpied/about?source=post_page-----56d172972783--------------------------------">About</a></div><div class="du s dv"><div class="dw dx s"><span><button class="av b aw ax dy az dz ea bc eb bf bg bh bi ec bl bm bn bo bp bq br">Follow</button></span></div></div></div></span></div></div></div><div class="n o ed ee ai g"><div class="sa" id="lo-meta-header-sign-in-link"><p class="av b aw ax bt"><span><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=post_page-----56d172972783---------------------nav_reg-----------" class="ay bb bu bv bw bx by bz ca bg bd be cb cc cd" rel="noopener">Sign in</a></span></p></div><div class="sa" id="lo-meta-header-sign-up-button"><div class="ef eg eh cs s"><span><button class="av b aw ax ay az ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br">Get started</button></span></div></div><a aria-label="Homepage" rel="noopener" href="https://medium.com/?source=post_page-----56d172972783--------------------------------"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div></div><div class="ae af"><div class="n p"><div class="aj ak al am an ao ap w"><div><div class="ei ej n o"><div class="s"><span class="av b di dj dk cy cz da db dc dd de bt"><div class="n o"><div class="ek s"><div class="dw dx s"><span><button class="av b aw ax dy az dz ea bc eb bf bg bh bi ec bl bm bn bo bp bq br">Follow</button></span></div></div><div class="dl dm ac"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@passpied/followers?source=post_page-----56d172972783--------------------------------">17 Followers</a></div><div class="dt n ac"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@passpied/about?source=post_page-----56d172972783--------------------------------">About</a></div></div></span></div></div></div></div></div></div></div><div class="el em en eo c ep eq er es et at ai eu"><div class="n p"><div class="aj ak al am an ao ap w"><div class="ev w ae et ai cg ew"><div class="ae cg ew ex"><div class="sa" id="lo-sticky-header-sign-up-button"><span><button class="av b aw ax ay az ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br">Get started</button></span></div><div class="sa" id="lo-ShowPostUnderUser-navbar-open-in-app-button"><div class="ey ae af"><span class="av b aw ax bt"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F56d172972783&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar&amp;source=post_page-----56d172972783--------------------------------" class="ay bb bu bv bw bx by bz ca bg bd be cb cc cd" rel="noopener nofollow">Open in app</a></span></div></div></div><a aria-label="Homepage" rel="noopener" href="https://medium.com/?source=post_page-----56d172972783--------------------------------"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div><div class="s hr"><div class="tj tk w ra er tl tm lv eq tn fi" aria-hidden="true"></div><div class="to er tp tq tr tj ra bp ts tt tu th tv tw tx sz ty tz ua ub ae" aria-hidden="true"><div class="uf ug n o ar ce"><h2 class="av iq uh dj df gk">Responses (2)</h2><div class="n ar"><div><div class="bq" role="tooltip" aria-hidden="false" aria-describedby="43" aria-labelledby="43"><a href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=responses-----56d172972783--------------------------------" class="ui dq" target="_blank" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.99 5.04c.26-.21.64-.22.91-.01.97.72 1.77 1.21 2.6 1.54.83.32 1.72.48 2.89.5.41.01.74.35.74.76-.02 3.62-.43 6.26-1.45 8.21-1.03 1.98-2.66 3.21-4.97 4.08a.75.75 0 0 1-.53 0c-2.25-.87-3.86-2.1-4.9-4.07-1.02-1.95-1.46-4.59-1.48-8.22 0-.41.33-.75.75-.76 1.19-.02 2.1-.18 2.92-.5.82-.32 1.6-.81 2.52-1.53zm.46.9c-.9.69-1.71 1.21-2.62 1.56a8.9 8.9 0 0 1-3.02.57c.03 3.45.46 5.82 1.36 7.51.88 1.69 2.25 2.77 4.28 3.57 2.1-.8 3.47-1.89 4.34-3.57.89-1.7 1.3-4.07 1.34-7.51a8.8 8.8 0 0 1-3-.57 11.8 11.8 0 0 1-2.68-1.56zm0 9.15a2.67 2.67 0 1 0 0-5.34 2.67 2.67 0 0 0 0 5.34zm0 1a3.67 3.67 0 1 0 0-7.34 3.67 3.67 0 0 0 0 7.34zm-1.82-3.77l.53-.53.91.92 1.63-1.63.52.53-2.15 2.15-1.44-1.44z"></path></svg></a></div></div><div class="s ah uj"><div class="ca s ah es"><button class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" data-testid="close-button" aria-label="close"><svg width="25" height="25" viewBox="0 0 25 25" class="hu"><path d="M18.13 6.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62"></path></svg></button></div></div></div></div><div><div class="av b aw ax gk"><div class="dj"><div class="vl uk vm s"><div class="tq ve bm n ac vf vg vh"><div class="n ac"><span><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=responses-----56d172972783---------------------respond_sidebar-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><div class="vn s"><p class="av b aw ax bt">What are your thoughts?</p></div></a></span><div class="ce n vi vj eq vk"><label class="n o"><div class="ht wd we n wf ah"><input class="vo vp vq fe eq vr vs vt vu vv vw vx" type="checkbox"><span class="o pi vy vz bp dy lv n dz wa p wb wc"><svg width="11" height="11" viewBox="0 0 11 11" class="dz"><path d="M0 6.31l3.7 3.7.9.91.67-1.1 5.3-8.79L8.84 0l-5.3 8.8 1.57-.2-3.7-3.7L0 6.3z"></path></svg></span></div><h4 class="av b rn ax bt">Also publish to my profile</h4></label><button class="av b aw ax dy wg dz ea bc eb bf bg bh bi ec bl bm bn bo bp bq br" disabled="">Respond</button></div></div></div></div></div></div></div><div class="s"><div class="s"><div class="ag uy s"><div><div class="w ra"><div class="pk pb s"><div class="n ar ce"><div class="n o ar"><img alt="Mohan Kumar U" class="s hf un uo" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/0_0fT_g8qQoIoFZFMx.jpg" width="32" height="32"><div class="va s"><div class="n ar"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@mohankumar.u97?source=responses-----56d172972783----0----------------------------"><p class="av b aw ax gk">Mohan Kumar U</p></a></div><a class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener nofollow" href="https://medium.com/@mohankumar.u97/can-you-post-elaborated-blog-on-how-to-build-elasticsearch-plugins-step-by-step-it-cab310d48a68?source=responses-----56d172972783----0----------------------------"><p class="av b aw ax bt">about 2 years ago</p></a></div></div><button class="lv lt ui dq uz"><svg class="overflow-dots-filled-25px_svg__svgIcon-use" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"></path></svg></button></div><div class="vb s"><pre class="kt"><div class="vc s"><p class="av b aw ax gk"><div class="dj">Can you post elaborated blog on how to build elasticsearch plugins step by step.It will be really helpful.</div></p></div><div class="vc s"><p class="av b aw ax gk"><div class="dj">Great blog by the way.</div></p></div></pre></div><div class="vd n o ar ce"><div class="n o"><div class="n o"><div class="s ah hl hn lp lq lr"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2Fcab310d48a68&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=responses-----cab310d48a68----0-----------------respond_sidebar-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><div class="bz ls lt lu lv lw lx td r lz ma"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div></div><div class="dt q n o"></div></div><div class="hs s"><p class="av b aw ax gk"><button class="dn do bu bv bw bx by bz ca bg ro cb dr ds">Reply</button></p></div></div></div></div></div></div><div class="eo uy s"><div><div class="w ra"><div class="pk pb s"><div class="n ar ce"><div class="n o ar"><img alt="Richard Wang" class="s hf un uo" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/0_-TIxx1UUgtlPJYDd.jpg" width="32" height="32"><div class="va s"><div class="n ar"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@triggerpuller916?source=responses-----56d172972783----1----------------------------"><p class="av b aw ax gk">Richard Wang</p></a></div><a class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener nofollow" href="https://medium.com/@triggerpuller916/the-links-are-invalid-now-can-you-update-the-links-pls-bcab70e84766?source=responses-----56d172972783----1----------------------------"><p class="av b aw ax bt">over 1 year ago</p></a></div></div><button class="lv lt ui dq uz"><svg class="overflow-dots-filled-25px_svg__svgIcon-use" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"></path></svg></button></div><div class="vb s"><pre class="kt"><div class="vc s"><p class="av b aw ax gk"><div class="dj">the links are invalid now…can you update the links pls</div></p></div></pre></div><div class="vd n o ar ce"><div class="n o"><div class="n o"><div class="s ah hl hn lp lq lr"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2Fbcab70e84766&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=responses-----bcab70e84766----1-----------------respond_sidebar-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><div class="bz ls lt lu lv lw lx td r lz ma"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div></div><div class="dt q n o"></div></div><div class="hs s"><p class="av b aw ax gk"><button class="dn do bu bv bw bx by bz ca bg ro cb dr ds">Reply</button></p></div></div></div></div></div></div></div></div></div></div><article><section class="ez fa fb fc w fd bp s"></section><span class="s"></span><div><div class="fe ep te fg fh fi"></div><section class="dh fj fk dc fl"><div class="n p"><div class="aj ak al am an fm ap w"><div class=""><h1 id="10de" class="fn df fo av cu fp fq fr fs ft fu fv fw fx fy fz ga gb gc gd ge gf gg gh gi gj gk">A reading of Elasticsearch source code</h1></div><div class=""><h2 id="371b" class="gl df fo av b gm gn go gp gq gr gs gt gu gv gw gx gy gz ha hb bt">What is Elasticsearch?</h2><div class="cr"><div class="n ce hc hd he"><div class="o n"><div><a rel="noopener" href="https://medium.com/@passpied?source=post_page-----56d172972783--------------------------------"><img alt="passpied" class="s hf hg hh" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/0_G0liK59RBdHUPF_e.jpg" width="28" height="28"></a></div><div class="dt w n co"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><a class="" rel="noopener" href="https://medium.com/@passpied?source=post_page-----56d172972783--------------------------------"><p class="av b aw ax ay">passpied</p></a></span></div></div><span class="av b aw ax bt"><a class="" rel="noopener" href="https://medium.com/@passpied/a-reading-of-elasticsearch-source-code-56d172972783?source=post_page-----56d172972783--------------------------------"><p class="av b aw ax bt"><span class="hi"></span>Oct 1, 2014<span class="hj">·</span>3 min read</p></a></span></div></div><div class="n cn hk hl hm hn ho hp hq hr"><div class="n o"><div class="hs s"><div class="bq" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bq" role="tooltip" aria-hidden="false" aria-describedby="1" aria-labelledby="1"><button class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div></div><div class="ht s"><div class="hu"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fbookmark%2Fp%2F56d172972783&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=post_actions_header--------------------------bookmark_preview-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></span></div></div><div class="hv s as"></div></div></div></div></div></div><p id="395d" class="hw hx fo hy b gm hz ia gp ib ic id ie if ig ih ii ij ik il im in dh gk" data-selectable-paragraph="">I would say it is a database which is easy to scale with many “search” functions like “auto complete”,”suggestion” or ”image search” etc…and since it is written in Java,you can customize query or change something internal quite easily often as with plugins,if you want.</p><h2 id="0186" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">Source code of Elasticsearch</h2><p id="46d7" class="hw hx fo hy b gm je hz ia gp jf ib ic id jg ie if ig jh ih ii ij ji ik il in dh gk" data-selectable-paragraph="">You need to understand “Dependency Injection” style of s<span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm">o</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>urce code to understand how Elasticsearch decouple the dependencies, and “Event driven threading” to understand how it interacts with other nodes.I think Elasticsearch is actually a sort of map/reduce framework especially for “lucene”.<br>It uses “guice” of google java library quite heavily, which leads me to think why it is not built on Scala.</p><h2 id="ff39" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">How it start</h2><blockquote class="jj jk jl"><p id="dd49" class="hw hx jm hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">Everything began from <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java#L145" class="dn js" rel="noopener nofollow">org.elasticsearch.bootstrap.Bootstrap </a>class.<br>What it does is simply initialize modules (or plugins) and start the nodes.<br>You might want to check out <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/node/internal/InternalNode.java#L193" class="dn js" rel="noopener nofollow">org.elasticsearch.node.intrnal.Internal </a>class to see the proof of “Dependency Injection” style and also how you can actually optimize Elasicsearch for you, for not adding as the modules to be injected.</p></blockquote><h1 id="1fa5" class="jt ip fo av iq ju jv hz it jw jx ib iw jy jz ka iy kb kc kd ja ke kf kg jc kh gk" data-selectable-paragraph="">So let see what “_count” does</h1><p id="bd52" class="hw hx fo hy b gm je hz ia gp jf ib ic id jg ie if ig jh ih ii ij ji ik il in dh gk" data-selectable-paragraph="">/_count is a endpoint you can count the number of docs registered in given index or type or whole Elasticsearch like this</p><pre class="ki kj kk kl km kn ko kp"><span id="82e4" class="gk io ip fo kq b di kr ks s kt" data-selectable-paragraph="">curl -X localhost:9200/_count</span></pre><p id="092d" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">So let dig into what happens with this request</p><h2 id="198c" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">Simplify — to five things</h2><blockquote class="jj jk jl"><p id="ef93" class="hw hx jm hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">You can simplify it to five things.<br>1, Receive request<br>2, Dispatch request<br>3, Analyze request<br>4, Execute related modules in Elasticsearch internally with Nodes<br>5, Response</p></blockquote><h2 id="1b62" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">1 Receive request</h2><p id="869a" class="hw hx fo hy b gm je hz ia gp jf ib ic id jg ie if ig jh ih ii ij ji ik il in dh gk" data-selectable-paragraph=""><a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/common/netty/OpenChannelsHandler.java#L58" class="dn js" rel="noopener nofollow">Netty does the job</a>.<br>Then it goes to <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/rest/RestController.java#L163" class="dn js" rel="noopener nofollow">org.elasticsearch.rest.RestController</a> by passing few functions like <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/http/HttpServer.java#L121" class="dn js" rel="noopener nofollow">this</a>.</p><h2 id="849b" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">2 Dispatch request</h2><p id="541d" class="hw hx fo hy b gm je hz ia gp jf ib ic id jg ie if ig jh ih ii ij ji ik il in dh gk" data-selectable-paragraph="">Then dispatchRequest of RestController class will dispatch the given request to the module which shall handle it.<br>The “_count” request is GET method so it will retrieve the suitable method from the handlers registered in GET trie. Remember that the handlers are registered when you initialize the Bootstrap class,provided you added RestModule.The initializion will eventually <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/rest/action/RestActionModule.java#L201" class="dn js" rel="noopener nofollow">load modules</a> and you can see that the endpoint or handler for the “_count” is registered <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java#L50" class="dn js" rel="noopener nofollow">here</a>.<br>By the way, you can see a endpoint for the OPTION method in RestController, which I’m not sure the usage of or not well written in the documents.</p><h2 id="7d4f" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">3 Analyze request</h2><p id="814d" class="hw hx fo hy b gm je hz ia gp jf ib ic id jg ie if ig jh ih ii ij ji ik il in dh gk" data-selectable-paragraph="">Well,the RestController will run handleRequest() of given handler, this time the <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java#L59" class="dn js" rel="noopener nofollow">RestCountAction</a>.<br>You can see that this method analyze or parse the request, but for the “_count” there seems to be nothing special.</p><p id="0f53" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">Did you know that you can actually start from right here, if you run from any jvm languages. Example from <a href="https://github.com/scalastuff/esclient" class="dn js" rel="noopener nofollow">Scala</a>.</p><h2 id="02a4" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">4 <em class="ku">Execute related modules in Elasticsearch internally with Nodes</em></h2><p id="65f7" class="hw hx fo hy b gm je hz ia gp jf ib ic id jg ie if ig jh ih ii ij ji ik il in dh gk" data-selectable-paragraph="">This part is the most tricky part.You might want to see the “5 Response” part first.</p><p id="c186" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">You can see that the last part of RestCountAction call client.count() with “request” and “listener” as params. This will eventually led to execute() of <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/client/node/NodeClient.java#L98" class="dn js" rel="noopener nofollow">NodeClient</a>, which will call execute() of given “action module” this time<br><a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/client/node/NodeClient.java#L98" class="dn js" rel="noopener nofollow">org.elasticsearch.action.count.TransportCountAction</a>.</p><p id="ccbd" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">You might have noticed that there is nothing like “interacting with nodes” or “lucene” yet.Soon, you will see both.<br>execute() of TransportCountAction is actually defined in abstract class and will invoke doExecute() of <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java#L71" class="dn js" rel="noopener nofollow">org.elasticsearch.action.support.broadcast.TransportBroadcastOperationAction</a>.See it still hold the “request” and “listener” params. Well,the params will finally create object AsyncBroadcastAction and start() has been called.You might find that “nodes” variable is also there.</p><p id="2833" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">start() will eventually call every related shards from the requests in performOperation().However, inside the performOperation() <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java#L171" class="dn js" rel="noopener nofollow">it will call onOperation() and eventually sharedOperation()</a>. You can finally( and only) <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/action/count/TransportCountAction.java#L163" class="dn js" rel="noopener nofollow">see “lucene” here</a> for “_count”.</p><p id="2fd5" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">Every results of sharedOperation() on each shard or nodes are collected and registered in sharedResponses array, which will be reduced in making of response.</p><p id="43aa" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">Given how limited the “lucene” was actually used and how it effectively interact with other nodes, I can’t help thinking Elasticsearch as a sort of map/reduce framework.I’m thinking to use Hazelcast for some map/reduce for doing things with the data,but I might well as do it on Elasticsearch and perhaps that is what “aggregation module” is doing.</p><h2 id="2ae2" class="io ip fo av iq ir is go it iu iv gr iw gs ix gu iy gv iz gx ja gy jb ha jc jd gk" data-selectable-paragraph="">5 Response</h2><p id="7c3e" class="hw hx fo hy b gm je hz ia gp jf ib ic id jg ie if ig jh ih ii ij ji ik il in dh gk" data-selectable-paragraph="">The “listener”,which is sort of event driven thread,<a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java#L252" class="dn js" rel="noopener nofollow">will finally return something when there are some result</a> with <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/rest/action/support/RestResponseListener.java#L43" class="dn js" rel="noopener nofollow">some customization respect to the module</a>. However, if you are using java client,you will get the response directly from the node.</p><p id="d8cf" class="hw hx fo hy b gm jn hz ia gp jo ib ic id jp ie if ig jq ih ii ij jr ik il in dh gk" data-selectable-paragraph="">I hope this helps you.</p></div></div></section></div></article><div class="eq fi er lc w tg la le" data-test-id="post-sidebar"><div class="n p"><div class="aj ak al am an ao ap w"><div class="lf n ac"><div class="fi"><div><div class="lg ag s"><div class="lh s"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@passpied?source=post_sidebar--------------------------post_sidebar-----------"><h2 class="av iq di ax df gk dh">passpied</h2></a></div><div class="li s"><p class="av b aw ax bt">A flying japanese</p></div><div class="lj s"><span><button class="av b aw ax dy az dz ea bc eb bf bg bh bi ec bl bm bn bo bp bq br">Follow</button></span></div></div><div class="lk ll lm n"><div class="n o"><div class="s ah ln lo lp lq lr"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2F56d172972783&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=post_sidebar-----56d172972783---------------------clap_sidebar-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><div class="bz ls lt lu lv lw lx ly r lz ma"><svg width="29" height="29" aria-label="clap"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s mb mc md me mf mg mh"><div class="mi"><p class="av b aw ax bt"><button class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds">151 </button></p></div></div></div></div><div class="ll s"><button class="lv lt bz"><div class="ml n o ar"><svg width="25" height="25" class="r" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg><div class="s ah mm mn mo mp mq mr ms mt"><p class="av b aw ax bt">2<!-- --> </p></div></div></button></div><div class="hu"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fbookmark%2Fp%2F56d172972783&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=post_sidebar-----56d172972783---------------------bookmark_sidebar-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></span></div></div></div></div></div></div></div><div class="eq fi kv er kw kx ky kz la lb"></div><div><div class="mu mv n ac p"><div class="n p"><div class="aj ak al am an fm ap w"><div class="n co"></div><div class="n o co"></div><div class="mw mu s"><div class="mx n ce hr"><div class="n ar"><div class="my s"><span class="s mz na nb e d"><div class="n o"><div class="s ah ln lo lp lq lr"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2F56d172972783&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=post_actions_footer-----56d172972783---------------------clap_footer-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><div class="bz ls lt lu lv lw lx ly r lz ma"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s mb mc md me mf mg mh"><div class="ah nc mi"><p class="av b aw ax gk"><button class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds">151<span class="s h g f nd ne">&nbsp;</span></button><span class="s h g f nd ne"></span></p></div></div></div></span><span class="s h g f nd ne"><div class="n ck"><div class="s ah ln lo"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2F56d172972783&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=post_actions_footer-----56d172972783---------------------clap_footer-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><div class="bz ls lt lu lv lw lx ly r lz ma"><svg width="33" height="33" viewBox="0 0 33 33" aria-label="clap"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></a></span></div><div class="s mb mc md me nf ng nh ni nj nk"><div class="ah nc mi"><p class="av b aw ax gk"><button class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds">151<span class="s h g f nd ne">&nbsp;</span></button><span class="s h g f nd ne"></span></p></div></div></div></span></div><div class="s nl nm nn no np"></div><button class="lv lt bz"><div class="ml n o ar"><div><div class="bq" role="tooltip" aria-hidden="false" aria-describedby="2" aria-labelledby="2"><span class="nq s h g f nd ne"><svg width="33" height="33" viewBox="0 0 33 33" fill="none" class="r" aria-label="responses"><path clip-rule="evenodd" d="M24.28 25.5l.32-.29c2.11-1.94 3.4-4.61 3.4-7.56C28 11.83 22.92 7 16.5 7S5 11.83 5 17.65s5.08 10.66 11.5 10.66c1.22 0 2.4-.18 3.5-.5l.5-.15.41.33a8.86 8.86 0 0 0 4.68 2.1 7.34 7.34 0 0 1-1.3-4.15v-.43zm1 .45c0 1.5.46 2.62 1.69 4.44.22.32.01.75-.38.75a9.69 9.69 0 0 1-6.31-2.37c-1.2.35-2.46.54-3.78.54C9.6 29.3 4 24.09 4 17.65 4 11.22 9.6 6 16.5 6S29 11.22 29 17.65c0 3.25-1.42 6.18-3.72 8.3z"></path></svg></span><span class="nr s mz na nb e d"><svg width="25" height="25" class="r" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg></span></div></div><div class="s ah ns mn nt mp nu mr nv nw nx ny"><p class="av b aw ax gk">2<!-- --> </p></div></div></button></div><div class="n o"><div class="hs s"><div class="bq" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bq" role="tooltip" aria-hidden="false" aria-describedby="3" aria-labelledby="3"><button class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div></div><div class="nz s ed"><div class="hu"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fbookmark%2Fp%2F56d172972783&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40passpied%2Fa-reading-of-elasticsearch-source-code-56d172972783&amp;source=post_actions_footer--------------------------bookmark_footer-----------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></span></div></div></div></div></div><div class="oa s"></div></div></div><div><div class="n p"><div class="aj ak al am an fm ap w"></div></div><div class="s hr"><div class="ob oc s od"><div class="n p"><div class="aj ak al am an fm ap w"><div class="n o ce"><h2 class="av iq oe of og it oh oi oj iw ok ol om iy on oo op ja oq or os jc ot ou ov ow ox oy gk"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds" rel="noopener" href="https://medium.com/@passpied?source=follow_footer-------------------------------------">More from passpied</a></h2><span><button class="av b aw ax dy az dz ea bc eb bf bg bh bi ec bl bm bn bo bp bq br">Follow</button></span></div><div class="oz pa s"><p class="av b aw ax bt">A flying japanese</p></div></div></div></div></div><div class="pb s od hr"><div class="n p"><div class="pc pd pe pf pg ph ap w"></div></div></div><div class="s pi hr"><div class="n p"><div class="aj ak al am an ao ap w"><div class="pj im s"><div class="pk ag pl im s pm pn"><h2 class="av iq ir go it iu gr iw gs gu iy gv gx ja gy ha jc gk">More From Medium</h2></div><div class="ck n ar co po pp pq pr ps pt pu pv pw px py pz qa qb qc"><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a rel="noopener" href="https://medium.com/better-programming/your-local-event-driven-environment-using-dockerised-kafka-cluster-6e84af09cd95?source=post_internal_links---------0----------------------------">Setting Up Your Local Event-Driven Environment Using Kafka Docker</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a href="https://billydharmawan.medium.com/?source=post_internal_links---------0----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener">billydharmawan</a><span> <!-- -->in<!-- --> <a href="https://betterprogramming.pub/?source=post_internal_links---------0----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener nofollow">Better Programming</a></span></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener" href="https://medium.com/better-programming/your-local-event-driven-environment-using-dockerised-kafka-cluster-6e84af09cd95?source=post_internal_links---------0----------------------------"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/0_9HskTuPTS76y118U" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/0*9HskTuPTS76y118U" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*9HskTuPTS76y118U 48w, https://miro.medium.com/fit/c/140/140/0*9HskTuPTS76y118U 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a rel="noopener" href="https://medium.com/better-programming/learn-stream-processing-with-kafka-streams-stateless-operations-2111080e6c53?source=post_internal_links---------1----------------------------">Learn Stream Processing With Kafka Streams</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a href="https://abhishek1987.medium.com/?source=post_internal_links---------1----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener">Abhishek Gupta</a><span> <!-- -->in<!-- --> <a href="https://betterprogramming.pub/?source=post_internal_links---------1----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener nofollow">Better Programming</a></span></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener" href="https://medium.com/better-programming/learn-stream-processing-with-kafka-streams-stateless-operations-2111080e6c53?source=post_internal_links---------1----------------------------"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1_V3mAHO-JLpBHb8UCjZT1Sg.jpeg" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/1*V3mAHO-JLpBHb8UCjZT1Sg.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*V3mAHO-JLpBHb8UCjZT1Sg.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*V3mAHO-JLpBHb8UCjZT1Sg.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a href="https://caserojaime.medium.com/amazon-elasticsearch-java-integration-testing-29dd5f8a6201?source=post_internal_links---------2----------------------------" rel="noopener">Amazon ElasticSearch Java Integration Testing</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a href="https://caserojaime.medium.com/?source=post_internal_links---------2----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener">Jaime Casero</a></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a href="https://caserojaime.medium.com/amazon-elasticsearch-java-integration-testing-29dd5f8a6201?source=post_internal_links---------2----------------------------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1_hn4v1tCaJy7cWMyb0bpNpQ.png" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 48w, https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a rel="noopener" href="https://medium.com/cognigo/improve-heavy-elasticsearch-aggregations-with-random-score-and-sampler-aggregation-9e1857271059?source=post_internal_links---------3----------------------------">Improve Heavy Elasticsearch Aggregations with Random Score and Sampler Aggregation</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener" href="https://medium.com/@golankopi?source=post_internal_links---------3----------------------------">Golan Kopichinsky</a><span> <!-- -->in<!-- --> <a href="https://medium.com/cognigo?source=post_internal_links---------3----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener">Cognigo</a></span></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener" href="https://medium.com/cognigo/improve-heavy-elasticsearch-aggregations-with-random-score-and-sampler-aggregation-9e1857271059?source=post_internal_links---------3----------------------------"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1_YIGQrbQhFOO9EY6T92ffig.jpeg" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/1*YIGQrbQhFOO9EY6T92ffig.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*YIGQrbQhFOO9EY6T92ffig.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*YIGQrbQhFOO9EY6T92ffig.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a rel="noopener" href="https://medium.com/@jhansireddy007/how-to-parallelise-kafka-consumers-59c8b0bbc37a?source=post_internal_links---------4----------------------------">How to parallelise Kafka consumers</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener" href="https://medium.com/@jhansireddy007?source=post_internal_links---------4----------------------------">Jhansi Karee</a></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener" href="https://medium.com/@jhansireddy007/how-to-parallelise-kafka-consumers-59c8b0bbc37a?source=post_internal_links---------4----------------------------"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1_M771g7YBz35xJ1lKdRLFhQ.png" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/1*M771g7YBz35xJ1lKdRLFhQ.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*M771g7YBz35xJ1lKdRLFhQ.png 48w, https://miro.medium.com/fit/c/140/140/1*M771g7YBz35xJ1lKdRLFhQ.png 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a rel="noopener" href="https://medium.com/better-programming/kafka-docker-run-multiple-kafka-brokers-and-zookeeper-services-in-docker-3ab287056fd5?source=post_internal_links---------5----------------------------">Kafka Docker: Run Multiple Kafka Brokers and ZooKeeper Services in Docker</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a href="https://dltlabs.medium.com/?source=post_internal_links---------5----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener">DLT Labs</a><span> <!-- -->in<!-- --> <a href="https://betterprogramming.pub/?source=post_internal_links---------5----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener nofollow">Better Programming</a></span></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener" href="https://medium.com/better-programming/kafka-docker-run-multiple-kafka-brokers-and-zookeeper-services-in-docker-3ab287056fd5?source=post_internal_links---------5----------------------------"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1_a2Crp7X7nP7PxlfjEzcKEQ.jpeg" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/1*a2Crp7X7nP7PxlfjEzcKEQ.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*a2Crp7X7nP7PxlfjEzcKEQ.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*a2Crp7X7nP7PxlfjEzcKEQ.jpeg 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a href="https://betterprogramming.pub/elasticsearch-text-vs-keyword-2ccb99ec72ae?source=post_internal_links---------6----------------------------" rel="noopener nofollow">Elasticsearch: Text vs. Keyword</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a href="https://brilianfird.medium.com/?source=post_internal_links---------6----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener">Brilian Firdaus</a><span> <!-- -->in<!-- --> <a href="https://betterprogramming.pub/?source=post_internal_links---------6----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener nofollow">Better Programming</a></span></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a href="https://betterprogramming.pub/elasticsearch-text-vs-keyword-2ccb99ec72ae?source=post_internal_links---------6----------------------------" class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener nofollow"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/0_hYQUyVjpTQj2A0Nq" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/0*hYQUyVjpTQj2A0Nq" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*hYQUyVjpTQj2A0Nq 48w, https://miro.medium.com/fit/c/140/140/0*hYQUyVjpTQj2A0Nq 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div><div class="qd qe qf qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu qv qw qx"><div class="qy qz s"><div class="w ra"><div class="n ce"><div class="s rb rc rd re"><div class="rf s"><h2 class="av iq oe of it oh oi iw rg rh iy ri rj ja rk rl jc gk"><a rel="noopener" href="https://medium.com/better-programming/how-to-use-stateful-operations-in-kafka-streams-1cff4da41329?source=post_internal_links---------7----------------------------">How to Use Stateful Operations in Kafka Streams</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax gk"><div class="cl n o rm"><span class="av b rn ax gk"><a href="https://abhishek1987.medium.com/?source=post_internal_links---------7----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener">Abhishek Gupta</a><span> <!-- -->in<!-- --> <a href="https://betterprogramming.pub/?source=post_internal_links---------7----------------------------" class="dn do bu bv bw bx by bz ca bg ro cb dr ds" rel="noopener nofollow">Better Programming</a></span></span></div></span></div></div></div></div></div><div class="dt ht s rp rq"><a class="dn do bu bv bw bx by bz ca bg dp dq cb dr ds s" rel="noopener" href="https://medium.com/better-programming/how-to-use-stateful-operations-in-kafka-streams-1cff4da41329?source=post_internal_links---------7----------------------------"><div class="ru s ah rv"><div class="rw rx s"><div class="th ti fe et ep ra w ot rs rt"><img class="fe et ep ra w ry rz sa" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/0_VnEFM0-NSAgsbQdV" width="70" height="70" role="presentation"></div><img class="eq rr sb sc sd se sf sg sh si sj sk c" width="70" height="70" role="presentation"><noscript><img class="sb sc sd se sf sg sh si sj sk" src="https://miro.medium.com/fit/c/140/140/0*VnEFM0-NSAgsbQdV" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*VnEFM0-NSAgsbQdV 48w, https://miro.medium.com/fit/c/140/140/0*VnEFM0-NSAgsbQdV 70w" sizes="70px" role="presentation"/></noscript></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="sl s sm sn"><div class="n p"><div class="aj ak al am an ao ap w"><div class="n ac"><div class="n o ce"><a class="dn do bu bv bw bx by bz ca bg so sp cb sq sr" rel="noopener" href="https://medium.com/?source=post_page-----56d172972783--------------------------------"><svg viewBox="0 0 3940 610" class="dz ss"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"></path></svg></a><p class="av b aw ax st"><div class="v su n ce sv cg"><p class="av b di dj sw"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----56d172972783--------------------------------" class="dn do bu bv bw bx by bz ca bg ro cb sq sr" rel="noopener">About</a></p><p class="av b di dj sw"><a href="https://help.medium.com/hc/en-us?source=post_page-----56d172972783--------------------------------" class="dn do bu bv bw bx by bz ca bg ro cb sq sr" rel="noopener">Help</a></p><p class="av b di dj sw"><a href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----56d172972783--------------------------------" class="dn do bu bv bw bx by bz ca bg ro cb sq sr" rel="noopener">Legal</a></p></div></p></div><div class="ae sx sy cg"><p class="av b di dj st">Get the Medium app</p></div><div class="ae sx sz cg ta"><div class="au s"><a href="https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&amp;mt=8&amp;ct=post_page&amp;source=post_page-----56d172972783--------------------------------" class="dn do bu bv bw bx by bz ca bg so sp cb sq sr" rel="noopener nofollow"><img alt="A button that says &#39;Download on the App Store&#39;, and if clicked it will lead you to the iOS App store" class="" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1_Crl55Tm6yDNMoucPo1tvDg.png" width="135" height="41"></a></div><div class="s"><a href="https://play.google.com/store/apps/details?id=com.medium.reader&amp;source=post_page-----56d172972783--------------------------------" class="dn do bu bv bw bx by bz ca bg so sp cb sq sr" rel="noopener nofollow"><img alt="A button that says &#39;Get it on, Google Play&#39;, and if clicked it will lead you to the Google Play store" class="" src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1_W_RAPQ62h0em559zluJLdQ.png" width="135" height="41"></a></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__ = "main-20210224-042709-9740f2358f"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"auroraPage":{"isAuroraPageEnabled":true},"bookReader":{"assets":{},"reader":{"currentAsset":null,"settingsPanelIsOpen":false,"settings":{"fontFamily":"SANS_SERIF_1","fontScale":"M","publisherStyling":true,"textAlignment":"START","theme":"White"}}},"cache":{"experimentGroupSet":true,"group":"control","tags":[],"serverVariantState":""},"client":{"isBot":false,"isEu":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"inAppBrowserName":"","routingEntity":{"type":"DEFAULT","explicit":false},"supportsWebp":true},"config":{"nodeEnv":"production","version":"main-20210224-042709-9740f2358f","isTaggedVersion":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20210224-042709-9740f2358f"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","context":{"deployment":{"target":"production","tag":"main-20210224-042709-9740f2358f","commit":"9740f2358f3765be93c105feebd1fc4b0baade63"}},"datacenter":"us"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e","9dc80918cc93","8a9336e5bb4","cef6983b292","54c98c43354d","193b68bd4fba","b7e45b22fec3","55760f21cdc5"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"performanceTags":[],"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","errorTracking":"none"},"debug":{"requestId":"793dbaa0-49f3-4756-a1f8-bcd860647d9c","branchDeployConfig":null,"originalSpanCarrier":{"ot-tracer-spanid":"474798d55bf02e5c","ot-tracer-traceid":"c11e7d100cbb4a8","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002F@passpied\u002Fa-reading-of-elasticsearch-source-code-56d172972783","host":"medium.com","hostname":"medium.com","referrer":"https:\u002F\u002Fwww.google.com\u002F","susiModal":{"step":null,"operation":"register"},"postRead":false},"session":{"user":{"id":"lo_21fa38ec2c4b"},"xsrf":"","isSpoofed":false},"tracing":{}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"variantFlags":[{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"android_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"assign_default_topic_to_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"bane_add_user","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"bane_verify_domain","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"branch_seo_metadata","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"covid_19_cdc_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"default_seo_post_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"digest_delivery_window_one_hour_before","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_android_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_resume_reading_toast","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_mobile_featured_chunk","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_post_recommended_from_friends_provider","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_local_currency","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_annual_renewal_reminder_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_parse_expires_at","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook_renewal_failure","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_about_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_general_admission","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_profile_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_sticky_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_tag_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_autotier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automated_mission_control_triggers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_trial_membership","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_text_me_the_app","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding_fonts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cleansweep_double_writes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_client_error_tracking","valueType":{"__typename":"VariantFlagString","value":"none"}},{"__typename":"VariantFlag","name":"enable_confirm_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cta_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_curation_priority_queue_experiment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_custom_domain_v2_settings","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_dedicated_series_tab_api_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_feature_logging","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_referred_follow_cta","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_tagline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_earn_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_edit_alt_text","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_email_sign_in_captcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_embedding_based_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_end_of_post_cleanup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_evhead_com_to_ev_medium_com_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_expanded_feature_chunk_pool","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_by_resend_rules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_expire_processor","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fyf_authors_and_collections","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_global_susi_modal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_cancelled","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_highlander_member_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hightower_user_minimum_guarantee","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_homepage_who_to_follow_module","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_homepage_write_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_post_stats","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_json_logs_trained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex_app_highlights","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_notifications","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pay_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post_cd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pub_homepage_for_selected_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_publish_to_profile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_stories","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_threaded_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_unread_notification_count_mutation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_login_code_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_media_resource_try_catch","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_membership_remove_section_a","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_miro_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mission_control","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mute","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_checkout_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_collaborative_filtering_data","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_login_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_three_dot_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_parsely","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_patronus_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_popularity_feature","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_page_nav_stickiness_removal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_settings_screen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_primary_topic_for_mobile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_design_reminder","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_page_seo_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_publish_to_email_for_publication_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_receipt_notes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_all","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_edit_and_delete","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_moderation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_follow_feed_cache","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rtr_channel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_s3_sites","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_save_to_medium","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_signup_friction","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace_ranker_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_stripegate","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipalti_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trending_posts_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_triton_predictions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trumpland_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_twitter_auth_suggestions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_untruncated_author_post_as_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound"}},{"__typename":"VariantFlag","name":"google_sign_in_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_generic_home_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_iceland_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_pub_follow_email_opt_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"is_not_medium_subscriber","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_fastrak","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_stripe_express","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"make_nav_sticky","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"new_transition_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"provider_for_credit_card_form","valueType":{"__typename":"VariantFlagString","value":"BRAINTREE"}},{"__typename":"VariantFlag","name":"pub_sidebar","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefine_average_post_reading_time","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"remove_post_post_similarity","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"retrained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"sign_up_with_email_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"skip_sign_in_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"suppress_apple_missing_expires_date_alert","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"use_new_admin_topic_backend","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"meterPost({\"postId\":\"56d172972783\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"__ref":"MeteringInfo:{}"},"postResult({\"id\":\"56d172972783\"})":{"__ref":"Post:56d172972783"}},"MeteringInfo:{}":{"__typename":"MeteringInfo","postIds":[],"maxUnlockCount":3,"unlocksRemaining":3},"User:5713c8dd7ef":{"id":"5713c8dd7ef","__typename":"User","isFollowing":null,"viewerIsUser":false,"isSuspended":false,"name":"passpied","hasCompletedProfile":false,"bio":"A flying japanese","imageId":"0*G0liK59RBdHUPF_e.jpg","customStyleSheet":null,"customDomainState":null,"username":"passpied","isAuroraVisible":true,"socialStats":{"__typename":"SocialStats","followerCount":17},"isBlocking":null,"mediumMemberAt":0,"hasSubdomain":false,"isMuting":null,"allowNotes":true,"newsletterV3":null,"twitterScreenName":"wholeearthchann","isPartnerProgramEnrolled":false},"Paragraph:f1fa337c17b0_0":{"id":"f1fa337c17b0_0","__typename":"Paragraph","name":"10de","text":"A reading of Elasticsearch source code","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_1":{"id":"f1fa337c17b0_1","__typename":"Paragraph","name":"371b","text":"What is Elasticsearch?","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_2":{"id":"f1fa337c17b0_2","__typename":"Paragraph","name":"395d","text":"I would say it is a database which is easy to scale with many “search” functions like “auto complete”,”suggestion” or ”image search” etc…and since it is written in Java,you can customize query or change something internal quite easily often as with plugins,if you want.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_3":{"id":"f1fa337c17b0_3","__typename":"Paragraph","name":"0186","text":"Source code of Elasticsearch","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_4":{"id":"f1fa337c17b0_4","__typename":"Paragraph","name":"46d7","text":"You need to understand “Dependency Injection” style of source code to understand how Elasticsearch decouple the dependencies, and “Event driven threading” to understand how it interacts with other nodes.I think Elasticsearch is actually a sort of map\u002Freduce framework especially for “lucene”.\nIt uses “guice” of google java library quite heavily, which leads me to think why it is not built on Scala.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_5":{"id":"f1fa337c17b0_5","__typename":"Paragraph","name":"ff39","text":"How it start","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_6":{"id":"f1fa337c17b0_6","__typename":"Paragraph","name":"dd49","text":"Everything began from org.elasticsearch.bootstrap.Bootstrap class.\nWhat it does is simply initialize modules (or plugins) and start the nodes.\nYou might want to check out org.elasticsearch.node.intrnal.Internal class to see the proof of “Dependency Injection” style and also how you can actually optimize Elasicsearch for you, for not adding as the modules to be injected.","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":22,"end":60,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Fbootstrap\u002FBootstrap.java#L145","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":171,"end":211,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Fnode\u002Finternal\u002FInternalNode.java#L193","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_7":{"id":"f1fa337c17b0_7","__typename":"Paragraph","name":"1fa5","text":"So let see what “_count” does","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_8":{"id":"f1fa337c17b0_8","__typename":"Paragraph","name":"bd52","text":"\u002F_count is a endpoint you can count the number of docs registered in given index or type or whole Elasticsearch like this","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_9":{"id":"f1fa337c17b0_9","__typename":"Paragraph","name":"82e4","text":"curl -X localhost:9200\u002F_count","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_10":{"id":"f1fa337c17b0_10","__typename":"Paragraph","name":"092d","text":"So let dig into what happens with this request","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_11":{"id":"f1fa337c17b0_11","__typename":"Paragraph","name":"198c","text":"Simplify — to five things","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_12":{"id":"f1fa337c17b0_12","__typename":"Paragraph","name":"ef93","text":"You can simplify it to five things.\n1, Receive request\n2, Dispatch request\n3, Analyze request\n4, Execute related modules in Elasticsearch internally with Nodes\n5, Response","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_13":{"id":"f1fa337c17b0_13","__typename":"Paragraph","name":"1b62","text":"1 Receive request","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_14":{"id":"f1fa337c17b0_14","__typename":"Paragraph","name":"869a","text":"Netty does the job.\nThen it goes to org.elasticsearch.rest.RestController by passing few functions like this.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":18,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Fcommon\u002Fnetty\u002FOpenChannelsHandler.java#L58","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":36,"end":73,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Frest\u002FRestController.java#L163","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":104,"end":108,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Fhttp\u002FHttpServer.java#L121","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_15":{"id":"f1fa337c17b0_15","__typename":"Paragraph","name":"849b","text":"2 Dispatch request","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_16":{"id":"f1fa337c17b0_16","__typename":"Paragraph","name":"541d","text":"Then dispatchRequest of RestController class will dispatch the given request to the module which shall handle it.\nThe “_count” request is GET method so it will retrieve the suitable method from the handlers registered in GET trie. Remember that the handlers are registered when you initialize the Bootstrap class,provided you added RestModule.The initializion will eventually load modules and you can see that the endpoint or handler for the “_count” is registered here.\nBy the way, you can see a endpoint for the OPTION method in RestController, which I’m not sure the usage of or not well written in the documents.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":376,"end":388,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Frest\u002Faction\u002FRestActionModule.java#L201","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":465,"end":469,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Frest\u002Faction\u002Fcount\u002FRestCountAction.java#L50","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_17":{"id":"f1fa337c17b0_17","__typename":"Paragraph","name":"7d4f","text":"3 Analyze request","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_18":{"id":"f1fa337c17b0_18","__typename":"Paragraph","name":"814d","text":"Well,the RestController will run handleRequest() of given handler, this time the RestCountAction.\nYou can see that this method analyze or parse the request, but for the “_count” there seems to be nothing special.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":81,"end":96,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Frest\u002Faction\u002Fcount\u002FRestCountAction.java#L59","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_19":{"id":"f1fa337c17b0_19","__typename":"Paragraph","name":"0f53","text":"Did you know that you can actually start from right here, if you run from any jvm languages. Example from Scala.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":106,"end":111,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fscalastuff\u002Fesclient","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_20":{"id":"f1fa337c17b0_20","__typename":"Paragraph","name":"02a4","text":"4 Execute related modules in Elasticsearch internally with Nodes","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":2,"end":64,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_21":{"id":"f1fa337c17b0_21","__typename":"Paragraph","name":"65f7","text":"This part is the most tricky part.You might want to see the “5 Response” part first.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_22":{"id":"f1fa337c17b0_22","__typename":"Paragraph","name":"c186","text":"You can see that the last part of RestCountAction call client.count() with “request” and “listener” as params. This will eventually led to execute() of NodeClient, which will call execute() of given “action module” this time\norg.elasticsearch.action.count.TransportCountAction.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":152,"end":162,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Fclient\u002Fnode\u002FNodeClient.java#L98","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":225,"end":276,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Fclient\u002Fnode\u002FNodeClient.java#L98","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_23":{"id":"f1fa337c17b0_23","__typename":"Paragraph","name":"ccbd","text":"You might have noticed that there is nothing like “interacting with nodes” or “lucene” yet.Soon, you will see both.\nexecute() of TransportCountAction is actually defined in abstract class and will invoke doExecute() of org.elasticsearch.action.support.broadcast.TransportBroadcastOperationAction.See it still hold the “request” and “listener” params. Well,the params will finally create object AsyncBroadcastAction and start() has been called.You might find that “nodes” variable is also there.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":219,"end":295,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Faction\u002Fsupport\u002Fbroadcast\u002FTransportBroadcastOperationAction.java#L71","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_24":{"id":"f1fa337c17b0_24","__typename":"Paragraph","name":"2833","text":"start() will eventually call every related shards from the requests in performOperation().However, inside the performOperation() it will call onOperation() and eventually sharedOperation(). You can finally( and only) see “lucene” here for “_count”.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":129,"end":188,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Faction\u002Fsupport\u002Fbroadcast\u002FTransportBroadcastOperationAction.java#L171","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":217,"end":234,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Faction\u002Fcount\u002FTransportCountAction.java#L163","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_25":{"id":"f1fa337c17b0_25","__typename":"Paragraph","name":"2fd5","text":"Every results of sharedOperation() on each shard or nodes are collected and registered in sharedResponses array, which will be reduced in making of response.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_26":{"id":"f1fa337c17b0_26","__typename":"Paragraph","name":"43aa","text":"Given how limited the “lucene” was actually used and how it effectively interact with other nodes, I can’t help thinking Elasticsearch as a sort of map\u002Freduce framework.I’m thinking to use Hazelcast for some map\u002Freduce for doing things with the data,but I might well as do it on Elasticsearch and perhaps that is what “aggregation module” is doing.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_27":{"id":"f1fa337c17b0_27","__typename":"Paragraph","name":"2ae2","text":"5 Response","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f1fa337c17b0_28":{"id":"f1fa337c17b0_28","__typename":"Paragraph","name":"7c3e","text":"The “listener”,which is sort of event driven thread,will finally return something when there are some result with some customization respect to the module. However, if you are using java client,you will get the response directly from the node.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":52,"end":108,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Faction\u002Fsupport\u002Fbroadcast\u002FTransportBroadcastOperationAction.java#L252","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":114,"end":154,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Felasticsearch\u002Felasticsearch\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Forg\u002Felasticsearch\u002Frest\u002Faction\u002Fsupport\u002FRestResponseListener.java#L43","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f1fa337c17b0_29":{"id":"f1fa337c17b0_29","__typename":"Paragraph","name":"d8cf","text":"I hope this helps you.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"ImageMetadata:":{"id":"","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null,"originalHeight":null,"originalWidth":null},"ImageMetadata:0*9HskTuPTS76y118U":{"id":"0*9HskTuPTS76y118U","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:d0b105d10f0a":{"id":"d0b105d10f0a","__typename":"Collection","name":"Better Programming","slug":"better-programming","domain":"betterprogramming.pub"},"User:201d9c61a29a":{"id":"201d9c61a29a","__typename":"User","name":"billydharmawan","username":"billydharmawan","bio":"A passionate Software Engineer trying to leave a good legacy on earth","isFollowing":null,"imageId":"2*Nhx2FiKECTHrP-DpUnOqMg.jpeg","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"billydharmawan.medium.com"}},"hasSubdomain":true},"Post:6e84af09cd95":{"id":"6e84af09cd95","__typename":"Post","title":"Setting Up Your Local Event-Driven Environment Using Kafka Docker","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fbetter-programming\u002Fyour-local-event-driven-environment-using-dockerised-kafka-cluster-6e84af09cd95","previewImage":{"__ref":"ImageMetadata:0*9HskTuPTS76y118U"},"isPublished":true,"firstPublishedAt":1581516326048,"readingTime":5.969811320754717,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:d0b105d10f0a"},"creator":{"__ref":"User:201d9c61a29a"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*V3mAHO-JLpBHb8UCjZT1Sg.jpeg":{"id":"1*V3mAHO-JLpBHb8UCjZT1Sg.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:47a6bae243a3":{"id":"47a6bae243a3","__typename":"User","name":"Abhishek Gupta","username":"abhishek1987","bio":"Currently working with Kafka, Databases, Azure, Kubernetes and related open source projects | Confluent Community Catalyst (for Kafka)","isFollowing":null,"imageId":"1*ZdSjzBPYoAeJU5cB5f2_xA.jpeg","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"abhishek1987.medium.com"}},"hasSubdomain":true},"Post:2111080e6c53":{"id":"2111080e6c53","__typename":"Post","title":"Learn Stream Processing With Kafka Streams","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fbetter-programming\u002Flearn-stream-processing-with-kafka-streams-stateless-operations-2111080e6c53","previewImage":{"__ref":"ImageMetadata:1*V3mAHO-JLpBHb8UCjZT1Sg.jpeg"},"isPublished":true,"firstPublishedAt":1583408712045,"readingTime":5.747169811320755,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:d0b105d10f0a"},"creator":{"__ref":"User:47a6bae243a3"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"User:97b47ee73cad":{"id":"97b47ee73cad","__typename":"User","name":"Jaime Casero","username":"caserojaime","bio":"Software Engineer with more than 15 years experience in the Telco sector. Currently working at Telestax.","isFollowing":null,"imageId":"0*wNYK7eV6rPhgXf4_.jpg","mediumMemberAt":0,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"caserojaime.medium.com"}},"hasSubdomain":true},"Post:29dd5f8a6201":{"id":"29dd5f8a6201","__typename":"Post","title":"Amazon ElasticSearch Java Integration Testing","mediumUrl":"https:\u002F\u002Fcaserojaime.medium.com\u002Famazon-elasticsearch-java-integration-testing-29dd5f8a6201","previewImage":{"__ref":"ImageMetadata:"},"isPublished":true,"firstPublishedAt":1612358972410,"readingTime":5.022641509433963,"statusForCollection":null,"isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:97b47ee73cad"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*YIGQrbQhFOO9EY6T92ffig.jpeg":{"id":"1*YIGQrbQhFOO9EY6T92ffig.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:bf427c626f9e":{"id":"bf427c626f9e","__typename":"Collection","name":"Cognigo","slug":"cognigo","domain":null},"User:b3f52a31d9b3":{"id":"b3f52a31d9b3","__typename":"User","name":"Golan Kopichinsky","username":"golankopi","bio":"Backend Team Leader @ Cognigo","isFollowing":null,"imageId":"2*A6ZicKA3TbsJTrr5onphbQ.jpeg","mediumMemberAt":0,"customDomainState":null,"hasSubdomain":false},"Post:9e1857271059":{"id":"9e1857271059","__typename":"Post","title":"Improve Heavy Elasticsearch Aggregations with Random Score and Sampler Aggregation","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fcognigo\u002Fimprove-heavy-elasticsearch-aggregations-with-random-score-and-sampler-aggregation-9e1857271059","previewImage":{"__ref":"ImageMetadata:1*YIGQrbQhFOO9EY6T92ffig.jpeg"},"isPublished":true,"firstPublishedAt":1555940824436,"readingTime":7.0927672955974845,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:bf427c626f9e"},"creator":{"__ref":"User:b3f52a31d9b3"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*M771g7YBz35xJ1lKdRLFhQ.png":{"id":"1*M771g7YBz35xJ1lKdRLFhQ.png","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:1edede9f249":{"id":"1edede9f249","__typename":"User","name":"Jhansi Karee","username":"jhansireddy007","bio":"Developer @ Thoughtworks","isFollowing":null,"imageId":"1*HWFBDQryq7YTN7eYJ-yS5Q.jpeg","mediumMemberAt":0,"customDomainState":null,"hasSubdomain":false},"Post:59c8b0bbc37a":{"id":"59c8b0bbc37a","__typename":"Post","title":"How to parallelise Kafka consumers","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@jhansireddy007\u002Fhow-to-parallelise-kafka-consumers-59c8b0bbc37a","previewImage":{"__ref":"ImageMetadata:1*M771g7YBz35xJ1lKdRLFhQ.png"},"isPublished":true,"firstPublishedAt":1563615269823,"readingTime":4.307861635220126,"statusForCollection":null,"isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:1edede9f249"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*a2Crp7X7nP7PxlfjEzcKEQ.jpeg":{"id":"1*a2Crp7X7nP7PxlfjEzcKEQ.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:aca22eb440b9":{"id":"aca22eb440b9","__typename":"User","name":"DLT Labs","username":"dltlabs","bio":"DLT Labs is a global leader in Distributed Ledger Technology and Enterprise Products. To know more, head over to: https:\u002F\u002Fwww.dltlabs.com\u002F","isFollowing":null,"imageId":"2*uvEKyc6CL3FNgRGLhZJMSg.png","mediumMemberAt":1563489942000,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"dltlabs.medium.com"}},"hasSubdomain":true},"Post:3ab287056fd5":{"id":"3ab287056fd5","__typename":"Post","title":"Kafka Docker: Run Multiple Kafka Brokers and ZooKeeper Services in Docker","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fbetter-programming\u002Fkafka-docker-run-multiple-kafka-brokers-and-zookeeper-services-in-docker-3ab287056fd5","previewImage":{"__ref":"ImageMetadata:1*a2Crp7X7nP7PxlfjEzcKEQ.jpeg"},"isPublished":true,"firstPublishedAt":1574687944599,"readingTime":4.500314465408805,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:d0b105d10f0a"},"creator":{"__ref":"User:aca22eb440b9"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*hYQUyVjpTQj2A0Nq":{"id":"0*hYQUyVjpTQj2A0Nq","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:c5d888ffc5e0":{"id":"c5d888ffc5e0","__typename":"User","name":"Brilian Firdaus","username":"brilianfird","bio":"A Software Engineer— Interested in Artificial Intelligence, Programming, Technology, Software Engineering and Relevance Engineering— https:\u002F\u002Fcodecurated.com","isFollowing":null,"imageId":"1*P03frwfXXRkSLnHt3M-L0g.jpeg","mediumMemberAt":1590260241886,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"brilianfird.medium.com"}},"hasSubdomain":true},"Post:2ccb99ec72ae":{"id":"2ccb99ec72ae","__typename":"Post","title":"Elasticsearch: Text vs. Keyword","mediumUrl":"https:\u002F\u002Fbetterprogramming.pub\u002Felasticsearch-text-vs-keyword-2ccb99ec72ae","previewImage":{"__ref":"ImageMetadata:0*hYQUyVjpTQj2A0Nq"},"isPublished":true,"firstPublishedAt":1600198481866,"readingTime":7.716037735849056,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:d0b105d10f0a"},"creator":{"__ref":"User:c5d888ffc5e0"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*VnEFM0-NSAgsbQdV":{"id":"0*VnEFM0-NSAgsbQdV","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Post:1cff4da41329":{"id":"1cff4da41329","__typename":"Post","title":"How to Use Stateful Operations in Kafka Streams","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fbetter-programming\u002Fhow-to-use-stateful-operations-in-kafka-streams-1cff4da41329","previewImage":{"__ref":"ImageMetadata:0*VnEFM0-NSAgsbQdV"},"isPublished":true,"firstPublishedAt":1584022696881,"readingTime":4.181132075471698,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:d0b105d10f0a"},"creator":{"__ref":"User:47a6bae243a3"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"Post:56d172972783":{"id":"56d172972783","__typename":"Post","canonicalUrl":"","collection":null,"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","isCacheableContent":false,"bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:f1fa337c17b0_0"},{"__ref":"Paragraph:f1fa337c17b0_1"},{"__ref":"Paragraph:f1fa337c17b0_2"},{"__ref":"Paragraph:f1fa337c17b0_3"},{"__ref":"Paragraph:f1fa337c17b0_4"},{"__ref":"Paragraph:f1fa337c17b0_5"},{"__ref":"Paragraph:f1fa337c17b0_6"},{"__ref":"Paragraph:f1fa337c17b0_7"},{"__ref":"Paragraph:f1fa337c17b0_8"},{"__ref":"Paragraph:f1fa337c17b0_9"},{"__ref":"Paragraph:f1fa337c17b0_10"},{"__ref":"Paragraph:f1fa337c17b0_11"},{"__ref":"Paragraph:f1fa337c17b0_12"},{"__ref":"Paragraph:f1fa337c17b0_13"},{"__ref":"Paragraph:f1fa337c17b0_14"},{"__ref":"Paragraph:f1fa337c17b0_15"},{"__ref":"Paragraph:f1fa337c17b0_16"},{"__ref":"Paragraph:f1fa337c17b0_17"},{"__ref":"Paragraph:f1fa337c17b0_18"},{"__ref":"Paragraph:f1fa337c17b0_19"},{"__ref":"Paragraph:f1fa337c17b0_20"},{"__ref":"Paragraph:f1fa337c17b0_21"},{"__ref":"Paragraph:f1fa337c17b0_22"},{"__ref":"Paragraph:f1fa337c17b0_23"},{"__ref":"Paragraph:f1fa337c17b0_24"},{"__ref":"Paragraph:f1fa337c17b0_25"},{"__ref":"Paragraph:f1fa337c17b0_26"},{"__ref":"Paragraph:f1fa337c17b0_27"},{"__ref":"Paragraph:f1fa337c17b0_28"},{"__ref":"Paragraph:f1fa337c17b0_29"}],"sections":[{"__typename":"Section","name":"e914","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"creator":{"__ref":"User:5713c8dd7ef"},"customStyleSheet":null,"firstPublishedAt":1412175962950,"isLocked":false,"isPublished":true,"isShortform":false,"layerCake":0,"primaryTopic":null,"title":"A reading of Elasticsearch source code","readCreatorPostsCount":0,"mediumUrl":"https:\u002F\u002Fmedium.com\u002F@passpied\u002Fa-reading-of-elasticsearch-source-code-56d172972783","isLimitedState":false,"visibility":"PUBLIC","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"newsletterId":"","sequence":null,"tags":[],"topics":[],"viewerClapCount":0,"showSubscribeToProfilePromo":false,"showSubscribeToCollectionNewsletterV3Promo":false,"inResponseToPostResult":null,"isNewsletter":false,"socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1412175962950,"readingTime":2.6641509433962263,"previewContent":{"__typename":"PreviewContent","subtitle":"Everything began from org.elasticsearch.bootstrap.Bootstrap class. What it does is simply initialize modules (or plugins) and start the node"},"previewImage":{"__ref":"ImageMetadata:"},"creatorPartnerProgramEnrollmentStatus":"PERMISSION_DENIED","clapCount":151,"lockedSource":"LOCKED_POST_SOURCE_NONE","isSuspended":false,"pendingCollection":null,"statusForCollection":null,"pinnedAt":0,"pinnedByCreatorAt":0,"curationEligibleAt":0,"responseDistribution":"NOT_DISTRIBUTED","shareKey":null,"internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[{"__ref":"Post:6e84af09cd95"},{"__ref":"Post:2111080e6c53"},{"__ref":"Post:29dd5f8a6201"},{"__ref":"Post:9e1857271059"},{"__ref":"Post:59c8b0bbc37a"},{"__ref":"Post:3ab287056fd5"},{"__ref":"Post:2ccb99ec72ae"},{"__ref":"Post:1cff4da41329"}]},"collaborators":[],"translationSourcePost":null,"inResponseToMediaResource":null,"isDistributionAlertDismissed":false,"audioVersionUrl":"","seoTitle":"","updatedAt":1520831475874,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","postResponses":{"__typename":"PostResponses","count":2},"latestPublishedVersion":"f1fa337c17b0","isPublishToEmail":false,"readingList":"READING_LIST_NONE","voterCount":22,"recommenders":[]}}</script><script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/manifest.24617dd6.js"></script><script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/4575.06959e21.js"></script><script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/main.2d70ca65.js"></script><script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/5573.159bf40f.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/instrumentation.e82f2440.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/reporting.0e714607.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1752.a348f767.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/4464.c01c0ad8.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/8342.6aa0b45e.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1148.fddd1e85.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/9692.dbc9dc9c.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/4586.474d61f5.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/5064.8cb1757e.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/9355.65d243a9.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/2846.53a861ed.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/9990.190d3475.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/7012.09df0a52.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/9972.695972af.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/5127.fe85a910.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/8580.91b3bd74.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/8751.60a43f0e.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/9458.cecea30f.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/7131.899bb049.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/8127.a11eec65.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/463.bfa9c59c.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/1373.008363de.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/587.85cfc09a.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/2514.c67fd96a.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/2558.d91a473a.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/3874.a4d81a48.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/857.d6db2ba9.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/8286.08280ee0.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/3414.99b6d56e.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/8831.2e0caa3a.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/2450.10c6394c.chunk.js"></script>
<script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/Post.b2e9c91e.chunk.js"></script><script>window.main();</script><script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/p.js" async="" id="parsely-cf"></script><iframe src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/a16180790160.html" hidden="" tabindex="-1" title="Optimizely Internal Frame" height="0" width="0" style="display: none;"></iframe><script src="./A reading of Elasticsearch source code _ by passpied _ Medium_files/client" async=""></script></body></html>