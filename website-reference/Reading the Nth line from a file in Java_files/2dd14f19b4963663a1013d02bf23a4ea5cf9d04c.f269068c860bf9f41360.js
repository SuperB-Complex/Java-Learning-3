(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"5R4e":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}));var o=n("mymk"),i=n("X9L9");function a(t){if(null==t)return null;if(t.responseJSON&&null!=t.responseJSON.errorText)return t.responseJSON.errorText;if(null!=t.responseJSON&&null!=t.responseJSON.errors){var e="";for(var n in t.responseJSON.errors)e+="<p>".concat(o.a.capitalizeFirstLetter(n),": ").concat(t.responseJSON.errors[n].toLowerCase(),"</p>");return e}return null}function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(t){var a="".concat(window.location.protocol,"//").concat(window.location.hostname),r=window.location.port?"".concat(a,":").concat(window.location.port):a;if(401!==t.status||o&&-1!==o.indexOf(t.status))if(404!==t.status||o&&-1!==o.indexOf(t.status)){if(!(409!==t.status||o&&-1!==o.indexOf(t.status)))return!0;if(400===t.status&&(!o||-1===o.indexOf(t.status)))return!0}else e(i.b.set(!0));else{var c;if(null===n||void 0===n||null===(c=n.query)||void 0===c?void 0:c.ru)return!1;var d=null;if(n){d=n.pathname;var l="/explore"===n.pathname||"/mycourses"===n.pathname?"/":"/login";return window.location.replace("".concat(r,"/").concat(l,"?ru=").concat(d)),!1}window.location.replace("".concat(r,"/login"))}}return!1}var c=function(t){var e,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===t||void 0===t||null===(e=t.responseJSON)||void 0===e?void 0:e.errorText)||(null===t||void 0===t||null===(n=t.responseJSON)||void 0===n||null===(o=n.errors)||void 0===o?void 0:o[i])}},"7WXn":function(t,e,n){"use strict";var o=n("jxKE"),i=n("Vgjn"),a=n("UvL3");e.a={version:a.a,caption:"",language:"c++",title:"",theme:"default",additionalContent:[],selectedIndex:0,runnable:!1,judge:!1,staticEntryFileName:!0,judgeContent:null,judgeHints:null,allowDownload:!1,treatOutputAsHTML:!1,enableHiddenCode:!1,enableStdin:!1,evaluateWithoutExecution:!1,showSolution:!1,timeLimit:o.q,hiddenCodeContent:{prependCode:"\n\n",appendCode:"\n\n",codeSelection:"prependCode"},dockerJob:{},selectedApiKeys:{},selectedEnvVars:{},specialInput:i.d,solutionContent:"\n\n\n",judgeContentPrepend:"\n\n\n",evaluateLanguage:"c++",isCodeDrawing:!1}},"9dyO":function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var o=n("rePB"),i=n("Ff2n"),a=n("i7Pf"),r=n("uNJL"),c=n("Cjvp"),d=n("jxKE"),l=n("Vgjn"),s=n("fh7V"),u=n("rfrl"),p=n("I1F8");function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=[d.f.ASSESSMENT,d.f.PROJECT,d.f.EXTERNAL_ASSESSMENT,d.f.EXTERNAL_PROJECT],h=Object(a.b)({name:"author/collection",initialState:{},reducers:{reset:function(){return{}},set:function(t,e){var n=e.payload;return Object(u.a)(n,(function(e){var n,o,i,a,r,c;e.instance.details.toc||(e.instance.details.toc={categories:[]}),e.instance.details.udata_files||(e.instance.details.udata_files=[]),e.instance.details.skills||(e.instance.details.skills=[]),e.instance.details.CodeThemes=e.instance.details.default_themes?e.instance.details.default_themes.code_themes:{Code:"default",Markdown:"default",RunJS:"default",SPA:"default"},e.instance.details.CodeThemes.isForced=null!==(n=e.instance.details.CodeThemes.isForced)&&void 0!==n?n:s.a,e.instance.details.docker.container.track=null!==(o=null===t||void 0===t||null===(i=t.instance)||void 0===i||null===(a=i.details)||void 0===a||null===(r=a.docker)||void 0===r||null===(c=r.container)||void 0===c?void 0:c.track)&&void 0!==o&&o,e.instance.details.toc.categories.length||j(e);var l=e.instance.details.page_titles;e.instance.details.toc.categories.forEach((function(t){return t.pages.forEach((function(t){var e;[d.P.LESSON,d.P.SHOT].includes(t.type)||(t.title=null!==(e=null===l||void 0===l?void 0:l[null===t||void 0===t?void 0:t.id])&&void 0!==e?e:d.a)}))}))}))},certificateBought:function(t){t.has_purchased_certificate=!0},updateDetails:function(t,e){var n=e.payload,o=(n.docker,n.deleted_page_details,Object(i.a)(n,["docker","deleted_page_details"]));t.instance.details.toc.categories.forEach((function(t){return t.pages.forEach((function(t){return t.is_recovered=!1}))})),t.instance.details=f(f({},t.instance.details),o)},addCategory:function(t,e){var n,o,i,a,r,c=e.payload,l=c.index,s=c.parentIndex,u=c.type,v=void 0===u?d.f.COLLECTION_CATEGORY:u,h=c.id,O=void 0===h?void 0:h,_=c.data,j=void 0===_?{}:_,S=(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o?void 0:o.work_type)===d.l.PATH,w=null===t||void 0===t||null===(i=t.instance)||void 0===i||null===(a=i.details)||void 0===a||null===(r=a.toc)||void 0===r?void 0:r.categories,x=j.type===d.P.PATH_EXTERNAL_ASSESSMENT||j.type===d.P.PATH_EXTERNAL_PROJECT,E=b(w);if(E){var T=t.instance.details.toc.categories[0].author_id,C=t.instance.details.toc.categories[0].collection_id,P=t.instance.details.toc.categories[0].id;t.instance.details.toc.categories[0].title=void 0===j.title||x?"Untitled category":j.title,t.instance.details.toc.categories[0].author_id=j.author_id||T,t.instance.details.toc.categories[0].collection_id=j.collection_id||C,j.type!==d.P.PATH_EXTERNAL_ASSESSMENT&&j.type!==d.P.PATH_EXTERNAL_PROJECT||(t.instance.details.toc.categories[0].page_id=j.page_id||void 0),t.instance.details.toc.categories[0].id=x?P:j.id||P,t.instance.details.toc.categories[0].editMode="editMode"in j?j.editMode:!(g.includes(v)||S),j.type&&!x&&(t.instance.details.toc.categories[0].type=j.type)}!g.includes(v)&&E||(y(t,!1,"editMode"in j?j.editMode:!(g.includes(v)||S),!1,l,s,v,x?j.id:O,f(f({},j),{},{title:S?j.title||"Untitled category":j.title})),function(t){var e,n,o,i=null===t||void 0===t||null===(e=t.instance)||void 0===e||null===(n=e.details)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories,a=m(i,p.a);if(-1!==a){var r=t.instance.details.toc.categories[a];t.instance.details.toc.categories.push(r),t.instance.details.toc.categories.splice(a,1)}}(t))},updateCategoryTitle:function(t,e){var n,o,i,a=e.payload,r=a.title,c=a.id,d=m(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i?void 0:i.categories,c);t.instance.details.toc.categories[d].title="__default"!==r?r:"",t.instance.details.toc.categories[d].editMode=!1},updateArticleTags:function(t,e){var n,o,i=e.payload,a=i.pageId,r=i.tags;[d.l.MODULE,d.l.PATH].includes(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o?void 0:o.work_type)||(t.instance.details.page_tags[a]=r)},updateArticleTitle:function(t,e){var n=e.payload,o=n.categoryId,i=n.pageId,a=n.title;if(t.instance){if(o){var r,c,d,l,s,u,p,v,f=m(null===t||void 0===t||null===(r=t.instance)||void 0===r||null===(c=r.details)||void 0===c||null===(d=c.toc)||void 0===d?void 0:d.categories,o),g=m(null===t||void 0===t||null===(l=t.instance)||void 0===l||null===(s=l.details)||void 0===s||null===(u=s.toc)||void 0===u||null===(p=u.categories)||void 0===p||null===(v=p[f])||void 0===v?void 0:v.pages,i);t.instance.details.toc.categories[f].pages[g].title=a,t.instance.details.toc.categories[f].pages[g].editMode=!1}t.instance.details.page_titles[i]=a}},removeCategory:function(t,e){var n,o,i,a,r,c,d,l=e.payload.id,s=m(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i?void 0:i.categories,l);t.instance.details.toc.categories.splice(s,1),(null===t||void 0===t||null===(a=t.instance)||void 0===a||null===(r=a.details)||void 0===r||null===(c=r.toc)||void 0===c||null===(d=c.categories)||void 0===d?void 0:d.length)||j(t)},updateCodeExecResourceFile:function(t,e){var n=e.payload;t.instance.details.code_exec_resource_metadata=n},updateDockerForExternalLesson:function(t,e){var n,o=e.payload;(null===(n=t.instance)||void 0===n?void 0:n.details)&&(t.instance.details.docker=o.docker)},addUserDataResourceFile:function(t,e){var n=e.payload;t.instance.details.udata_files.push(n)},updateUserDataResourceFile:function(t,e){var n=e.payload,o=n.payload,i=n.index;t.instance.details.udata_files[i]=f(f({},t.instance.details.udata_files[i]),o)},removeUserDataResourceFile:function(t,e){var n=e.payload.index;t.instance.details.udata_files.splice(n,1)},removeCoverImage:function(t){t.instance.details.cover_image_id=null},saveAPIKey:function(t,e){var n,o,i,r=e.payload.apiKey,c=r.id,d=void 0===c?"":c,l=r.key,s=void 0===l?"":l,u=r.value,p=void 0===u?"":u,v=r.useAsDefault,f=void 0===v||v,g=r.urlText,h=void 0===g?"":g,y=s,O=null!==(n=null===t||void 0===t||null===(o=t.instance)||void 0===o||null===(i=o.details)||void 0===i?void 0:i.api_keys)&&void 0!==n?n:[],_={id:d||Object(a.d)(),key:s,name:y,value:p,urlText:h,useAsDefault:f},b=O.findIndex((function(t){return t.id===d}));-1!==b?t.instance.details.api_keys[b]=_:t.instance.details.api_keys.push(_)},removeAPIKey:function(t,e){var n,o,i=e.payload,a=(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o?void 0:o.api_keys).findIndex((function(t){return t.id===i.id}));if(-1===a)return t;t.instance.details.api_keys.splice(a,1)},updateTestimonialImage:function(t,e){var n=e.payload,o=n.payload,i=n.index;t.instance.details.testimonials[i].pic=o},addTestimonial:function(t,e){var n=e.payload.testimonial;t.instance.details.testimonials||(t.instance.details.testimonials=[]),t.instance.details.testimonials.push(n)},removeTestimonial:function(t,e){var n=e.payload.index;t.instance.details.testimonials.splice(n,1)},updateTestimonial:function(t,e){var n=e.payload,o=n.index,i=n.testimonial;t.instance.details.testimonials[o]=i},changeTestimonialOrder:function(t,e){var n=e.payload.testimonials;t.instance.details.testimonials=n},addArticle:function(t,e){var n,o,i,a,r,c=e.payload,l=c.category_id,s=c.article,u=c.index,p=c.data,v=void 0===p?{}:p,f=(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o?void 0:o.work_type)===d.l.PATH,g=m(null===t||void 0===t||null===(i=t.instance)||void 0===i||null===(a=i.details)||void 0===a||null===(r=a.toc)||void 0===r?void 0:r.categories,l);O(t,s,g,u,v,f)},updateETAG:function(t,e){var n=e.payload;t[l.a]=n},cloneArticle:function(t,e){var n,o,i,a=e.payload,r=a.category_id,c=a.article,d=m(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i?void 0:i.categories,r);_(t,c,d)},removeArticle:function(t,e){var n,o,i,a,r,c,d,l,s=e.payload,u=s.category_id,p=s.article_id,v=m(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i?void 0:i.categories,u),f=m(null===t||void 0===t||null===(a=t.instance)||void 0===a||null===(r=a.details)||void 0===r||null===(c=r.toc)||void 0===c||null===(d=c.categories)||void 0===d||null===(l=d[v])||void 0===l?void 0:l.pages,p);t.instance.details.toc.categories[v].pages.splice(f,1),t.instance.details.deleted_page_details={}},recoverArticle:function(t,e){var n,o,i,a,r,c,d,l,s,u,v,f,g=e.payload.article_id,h=m(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i?void 0:i.categories,p.a);-1===h&&function(t){y(t,!1,!1,!0)}(t),h=m(null===t||void 0===t||null===(a=t.instance)||void 0===a||null===(r=a.details)||void 0===r||null===(c=r.toc)||void 0===c?void 0:c.categories,p.a),O(t,{page_id:g},h,null);var _=null===t||void 0===t||null===(d=t.instance)||void 0===d||null===(l=d.details)||void 0===l||null===(s=l.deleted_page_details)||void 0===s?void 0:s[g.toString()],b=_?_.title:"Untitled Masterpiece";null===t||void 0===t||(null===(u=t.instance)||void 0===u||(null===(v=u.details)||void 0===v||(null===(f=v.deleted_page_details)||void 0===f||delete f[g.toString()]))),t.instance.details.page_titles[g]=b},updateDeletedArticles:function(t,e){var n=e.payload;t.instance.details.deleted_page_details=f(f({},t.instance.details.deleted_page_details),n)},toggleArticleVisibility:function(t,e){var n,o,i,a,r,c,d,l,s=e.payload,u=s.category_id,p=s.article_id,v=m(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i?void 0:i.categories,u),f=m(null===t||void 0===t||null===(a=t.instance)||void 0===a||null===(r=a.details)||void 0===r||null===(c=r.toc)||void 0===c||null===(d=c.categories)||void 0===d||null===(l=d[v])||void 0===l?void 0:l.pages,p),g=t.instance.details.toc.categories[v].pages[f];g.is_preview=!g.is_preview},toggleIsLesson:function(t,e){var n,o,i,a,r,c,d,l,s=e.payload,u=s.category_id,p=s.article_id,v=m(null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i?void 0:i.categories,u),f=m(null===t||void 0===t||null===(a=t.instance)||void 0===a||null===(r=a.details)||void 0===r||null===(c=r.toc)||void 0===c||null===(d=c.categories)||void 0===d||null===(l=d[v])||void 0===l?void 0:l.pages,p),g=t.instance.details.toc.categories[v].pages[f];g.is_lesson=!(void 0===g.is_lesson||!0===g.is_lesson)},discardChanges:function(t,e){return e.payload.originalCollection},publish:function(t){t.instance.type="published"},moveCategory:function(t,e){var n,o,i,a,r,c,d,l,s=e.payload,u=s.from,v=s.to,f=null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i||null===(a=i.categories)||void 0===a?void 0:a[u.itemIndex];return f.id===p.a||(null===t||void 0===t||null===(r=t.instance)||void 0===r||null===(c=r.details)||void 0===c||null===(d=c.toc)||void 0===d||null===(l=d.categories)||void 0===l?void 0:l[v.itemIndex]).id===p.a?t:(t.instance.details.toc.categories.splice(u.itemIndex,1),void t.instance.details.toc.categories.splice(v.itemIndex,0,f))},setExternalOffer:function(t,e){var n=e.payload.externalOffer;return t.external_offer=n,t},hideExternalOffer:function(t){t.external_offer.hidden=!0},setExternalOfferViewed:function(t){t.external_offer.viewed=!0},moveArticleWithinOrigin:function(t,e){var n,o,i,a,r,c=e.payload,d=c.from,l=c.to,s=null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i||null===(a=i.categories)||void 0===a||null===(r=a[d.parentIndex])||void 0===r?void 0:r.pages;s.splice(l.itemIndex,0,s.splice(d.itemIndex,1)[0])},moveArticleToNotEmptyCategory:function(t,e){var n,o,i,a,r,c,d,l,s,u,v,f,g,h=e.payload,y=h.from,O=h.to;if((null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(i=o.toc)||void 0===i||null===(a=i.categories)||void 0===a||null===(r=a[O.parentIndex])||void 0===r?void 0:r.id)===p.a)return t;(null===t||void 0===t||null===(c=t.instance)||void 0===c||null===(d=c.details)||void 0===d||null===(l=d.toc)||void 0===l||null===(s=l.categories)||void 0===s||null===(u=s[y.parentIndex])||void 0===u?void 0:u.id)===p.a&&(t.instance.details.toc.categories[y.parentIndex].pages[y.itemIndex].is_recovered=!0);var _=null===t||void 0===t||null===(v=t.instance)||void 0===v||null===(f=v.details)||void 0===f||null===(g=f.toc)||void 0===g?void 0:g.categories;_[O.parentIndex].pages.splice(O.itemIndex,0,_[y.parentIndex].pages.splice(y.itemIndex,1)[0])},setDirty:function(t,e){var n=e.payload;t.instance.dirty=n},setNotification:function(t,e){var n=e.payload;t.notification_status=n}}}),y=function(t,e,n,o,i,a){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d.f.COLLECTION_CATEGORY,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=t.instance.details.toc.categories;if(u.forEach((function(t){return t.editMode=!1})),void 0!==a){var p=u[a].pages,v=p.splice(i+1),f=p=p.slice(0,i+1),h=new r.a(e,n);if(n||(h.title=s.title),(h=JSON.parse(JSON.stringify(h))).pages=v,u[a].pages=f,u.splice(a+1,0,h),g.includes(c)){var y=new r.a(!1,n,o,c,l);y=JSON.parse(JSON.stringify(y)),u.push(y)}}else{var O=new r.a(e,n,o,s.type||c,s.id||l,s.author_id,s.collection_id,s.title,s.page_id||void 0);O=JSON.parse(JSON.stringify(O)),u.push(O)}},O=function(t,e,n,o){var i,a,r,l,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},p=arguments.length>5&&void 0!==arguments[5]&&arguments[5],v=null===e||void 0===e?void 0:e.page_id,f=null===e||void 0===e?void 0:e.author_id,g=null===e||void 0===e?void 0:e.collection_id,h=v in(S(t)||{});if(null==o){var y,O,_,b,m,j=new c.a(parseInt(v||u.id),u.type,u.title,parseInt(f||u.author_id),parseInt(g||u.collection_id),parseInt(v||u.page_id),"editMode"in u?u.editMode:!p&&![d.P.LESSON,d.P.SHOT].includes(null===u||void 0===u?void 0:u.type));if(h){var w,x,E=null===t||void 0===t||null===(w=t.instance)||void 0===w||null===(x=w.details)||void 0===x?void 0:x.deleted_page_details[v.toString()].title;j.title=E,j.editMode=!1}null===t||void 0===t||null===(y=t.instance)||void 0===y||null===(O=y.details)||void 0===O||null===(_=O.toc)||void 0===_||null===(b=_.categories)||void 0===b||null===(m=b[n])||void 0===m||m.pages.push(JSON.parse(JSON.stringify(j)))}else null===t||void 0===t||null===(i=t.instance)||void 0===i||null===(a=i.details)||void 0===a||null===(r=a.toc)||void 0===r||null===(l=r.categories)||void 0===l||null===(s=l[n])||void 0===s||s.pages.splice(o+1,0,JSON.parse(JSON.stringify(new c.a(parseInt(v||u.id),u.type,u.title,parseInt(f||u.author_id),parseInt(g||u.collection_id),parseInt(v||u.page_id),"editMode"in u?u.editMode:!p&&![d.P.LESSON,d.P.SHOT].includes(null===u||void 0===u?void 0:u.type)))))},_=function(t,e,n){var o,i,a,r,d,l=e.page_id;e.title;return null===t||void 0===t||null===(o=t.instance)||void 0===o||null===(i=o.details)||void 0===i||null===(a=i.toc)||void 0===a||null===(r=a.categories)||void 0===r||null===(d=r[n])||void 0===d?void 0:d.pages.push(JSON.parse(JSON.stringify(new c.a(l))))},b=function(t){return"__default"===(null===t||void 0===t?void 0:t[0].title)},m=function(t,e){return t.findIndex((function(t){return t.id===e}))},j=function(t){return y(t,!0,!1)};function S(t){var e,n;return null===t||void 0===t||null===(e=t.instance)||void 0===e||null===(n=e.details)||void 0===n?void 0:n.deleted_page_details}e.b=h.reducer;var w=h.actions},"9jYD":function(t,e,n){"use strict";var o=n("jxKE");e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===o.l.PATH?"".concat(o.l.PATH).concat(e?"/lesson":""):t===o.l.MODULE?"".concat(o.l.MODULE).concat(e?"/lesson":""):"courses"}},AkIC:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var o=n("i7Pf"),i=Object(o.b)({name:"loader",initialState:{isLoaded:!1,isLoading:!1},reducers:{set:function(t,e){var n=e.payload;void 0!==n.isLoaded&&(t.isLoaded=n.isLoaded),void 0!==n.isLoading&&(t.isLoading=n.isLoading)}}});e.a=i.reducer;var a=i.actions},Cjvp:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("1OyB"),i=n("rePB"),a=n("jxKE"),r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.t.COLLECTION_LESSON,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];Object(o.a)(this,t),Object(i.a)(this,"id",void 0),Object(i.a)(this,"title",void 0),Object(i.a)(this,"is_preview",void 0),Object(i.a)(this,"parentIndex",void 0),Object(i.a)(this,"editMode",void 0),Object(i.a)(this,"is_recovered",void 0),Object(i.a)(this,"type",void 0),Object(i.a)(this,"is_lesson",void 0),Object(i.a)(this,"author_id",void 0),Object(i.a)(this,"collection_id",void 0),Object(i.a)(this,"page_id",void 0),this.id=e,this.title=r,this.is_preview=!1,this.parentIndex=null,this.editMode=s,this.is_recovered=!1,this.type=n,this.author_id=c,this.collection_id=d,this.page_id=l}},DOFM:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={authorCode:'import React from \'react\';\r\nimport { shallow, configure } from \'enzyme\';\r\nimport Adapter from \'enzyme-adapter-react-16\';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nimport HelloWorld from \'./app\';\r\n\r\nvar TestResult = function() {\r\n    this.succeeded = false;\r\n    this.reason = "";\r\n    this.input = "";\r\n    this.expected_output = "";\r\n    this.actual_output = "";\r\n}\r\n\r\nexport const executeTests = function() {\r\n\r\n  var results = [];\r\n\r\n  result = new TestResult();\r\n  result.input = \'HelloWorld Component\';\r\n  result.expected_output = "span containing text \'Hello World\'"\r\n\r\n  let wrapper = shallow(<HelloWorld />);\r\n\r\n  // Call your Challenge function here.\r\n\r\n  let type = wrapper.type();\r\n  let testSuccessful = true;\r\n  let failureReason;\r\n\r\n  if (type !== \'span\') {\r\n    testSuccessful = false;\r\n    failureReason = "You need to render exactly one span HTML element";\r\n  } else if (wrapper.props().children != "Hello World") {\r\n     testSuccessful = false;\r\n     failureReason = "You have rendered wrong message in your span element";\r\n  }\r\n\r\n  result.actual_output = wrapper.html();\r\n\r\n  if (testSuccessful) {\r\n    result.succeeded = true;\r\n    result.reason = "Succeeded"\r\n  } else {\r\n    result.succeeded = false;\r\n    result.reason = failureReason;\r\n  }\r\n\r\n  results.push(result);\r\n\r\n  return results;\r\n}\r\n',edCode:'import { executeTests } from \'./ed_spa_test_code.js\'; var main = function() {\r\n let results = executeTests();\r\n  let test_results = []\r\n\r\n  for (let result in results) {\r\n    let jres = {}\r\n    jres["succeeded"] = results[result].succeeded\r\n    jres["reason"] = results[result].reason\r\n    jres["input"] = results[result].input\r\n    jres["expected_output"] = results[result].expected_output\r\n    jres["actual_output"] = results[result].actual_output\r\n\r\n    test_results.push(jres)\r\n  }\r\n\r\n  let output = {"test_results": test_results};\r\n  let json_output = JSON.stringify(output);\r\n\r\n  console.log("<__educative_test_results__>" + json_output + "</__educative_test_results__>");\r\n}\r\n\r\nmain();\r\n',version:"1.1"}},HdLI:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return p}));var o=n("ODXe"),i=n("rePB");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){c=!0,a=t},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw a}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var l={keywords:{regex:/#key# [^#|^\n]+:[^#|^\n]+ #key#/g,parse:function(t){var e=t.slice(6,-6),n=e.match(/[^:|^\n]+:/g),o=e.match(/:[^\n]+/g);return{word:n&&n[0].slice(0,-1).trim(),meaning:o&&o[0].substring(1).trim()}},transform:function(t){var e=t.word,n=t.meaning;return e&&n?"<keyword><word>".concat(e,"</word><meaning>").concat(n,"</meaning></keyword>"):null}},concepts:{regex:/#concept=[^#|^\n]+#[^\n]+#concept#/g,parse:function(t){var e=t.match(/#concept=[^#|^\n]+#/g)[0],n=e.slice(9,-1).trim();return{word:t.slice(e.length).match(/[^\n]+#concept#/g)[0].slice(0,-9).trim(),name:n}},transform:function(t){var e=t.word,n=t.name;return e&&n?"<concept><word>".concat(e,"</word><name>").concat(n,"</name></concept>"):null}}},s=function(t,e){var n,o=e.regex,i=e.parse,a=e.transform,r=c(t.match(o)||[]);try{for(r.s();!(n=r.n()).done;){var d=n.value,l=a(i(d));l&&(t=t.replace(d,l))}}catch(s){r.e(s)}finally{r.f()}return t},u=function(t,e){if(!t)return"";for(var n=e.reduce((function(t,e){return r(r({},t),{},Object(i.a)({},e,!0))}),{}),a=0,c=Object.entries(l);a<c.length;a++){var d=c[a],u=Object(o.a)(d,2),p=u[0],v=u[1];n[p]||(t=s(t,v))}return t},p=function(t,e){var n=l[e];if(!n)return[];var o=n.regex,i=n.parse;return(t.match(o)||[]).map(i)}},I1F8:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o="RECOVERED_ARTICLES"},JyDq:function(t,e,n){"use strict";var o=n("1OyB"),i=n("rePB");e.a=function t(){Object(o.a)(this,t),Object(i.a)(this,"loaders",{babel:{title:"React",config:{es2015:!0,react:!0},enabled:!0},dart:{title:"Dart",config:{dart:!0},enabled:!1},"ts-react":{title:"Typescript React",config:{"ts-react":!0},enabled:!1},elm:{title:"Elm",config:{elm:!0},enabled:!1},vue:{title:"Vue.js",config:{vue:!0},enabled:!1},"gojs-react":{title:"GoJS React",config:{"gojs-react":!0},enabled:!1}})}},NHG4:function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"c",(function(){return D})),n.d(e,"d",(function(){return W})),n.d(e,"e",(function(){return q}));var o=n("KQm4"),i=n("o0o1"),a=n.n(i),r=n("HaE+"),c=n("rePB"),d=n("03FM"),l=n("396a"),s=n("i7Pf"),u=n("uNJL"),p=n("Cjvp"),v=n("jxKE"),f=n("Vgjn"),g=n("VMC0"),h=n("XZhq"),y=n("5R4e"),O=n("OYQK"),_=n("clVV"),b=n("QJIx"),m=n("Evd+"),j=n("OpYl"),S=n("pLgj"),w=n("fNkK"),x=n("HdLI");function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={categories:[JSON.parse(JSON.stringify(new u.a(!0,!1,!1,v.f.ASSESSMENT_CATEGORY)))]},P=function(t,e){return t.findIndex((function(t){return t.id===e}))},N=Object(d.a)(),I=N.initialState,k=N.reducers,L=Object(s.b)({name:"assessment",initialState:T(T({},I),{},{question:null}),reducers:T(T({},k),{},{updateAssessmentTitle:function(t,e){var n=e.payload;t.data.title=n,t.data.dirty=!0},updateAssessmentTimeLimit:function(t,e){var n=e.payload;t.data.time_limit=n,t.data.dirty=!0},updateAssessmentMaxAttempts:function(t,e){var n=e.payload;t.data.max_attempts=n,t.data.dirty=!0},updateAssessmentPassPercentage:function(t,e){var n=e.payload;t.data.pass_percentage=n,t.data.dirty=!0},updateAssessmentGradingCriteria:function(t,e){var n=e.payload;t.data.grading_criteria=n,t.data.dirty=!0},updateAssessmentSummary:function(t,e){var n=e.payload;t.data.summary=n,t.data.dirty=!0},addUserDataResourceFile:function(t,e){var n=e.payload;t.data.udata_files.push(n),t.data.dirty=!0},updateUserDataResourceFile:function(t,e){var n=e.payload,o=n.payload,i=n.index;t.data.udata_files[i]=T(T({},t.data.udata_files[i]),o),t.data.dirty=!0},removeUserDataResourceFile:function(t,e){var n=e.payload.index;t.data.udata_files.splice(n,1),t.data.dirty=!0},addCategory:function(t,e){var n,o,i=e.payload,a=i.index,r=i.parentIndex;(function(t){return"__default"===(null===t||void 0===t?void 0:t[0].title)})(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories)?(t.data.toc.categories[0].title="Untitled category",t.data.toc.categories[0].editMode=!0):function(t,e,n,o,i){var a=t.toc.categories;if(a.forEach((function(t){return t.editMode=!1})),void 0!==i){var r=a[i].pages,c=r.splice(o+1),d=r=r.slice(0,o+1),l=new u.a(!1,e,!1,v.f.ASSESSMENT_CATEGORY);(l=JSON.parse(JSON.stringify(l))).pages=c,a[i].pages=d,a.splice(i+1,0,l)}else{var s=new u.a(!1,e,n,v.f.ASSESSMENT_CATEGORY);s=JSON.parse(JSON.stringify(s)),a.push(s)}}(t.data,!0,!1,a,r),t.data.dirty=!0},addQuestion:function(t,e){var n,o,i=e.payload,a=i.category_id,r=i.question,c=i.index;!function(t,e,n,o){var i,a,r,c,d=e.question_id;if(null==o){var l,s,u,f,g=new p.a(parseInt(d),v.t.ASSESSMENT_QUESTION);null===t||void 0===t||null===(l=t.data)||void 0===l||null===(s=l.toc)||void 0===s||null===(u=s.categories)||void 0===u||null===(f=u[n])||void 0===f||f.pages.push(JSON.parse(JSON.stringify(g)))}else null===t||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.toc)||void 0===a||null===(r=a.categories)||void 0===r||null===(c=r[n])||void 0===c||c.pages.splice(o+1,0,JSON.parse(JSON.stringify(new p.a(parseInt(d),v.t.ASSESSMENT_QUESTION))))}(t,r,P(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories,a),c),t.data.dirty=!0},updateCategoryTitle:function(t,e){var n,o,i=e.payload,a=i.title,r=i.id,c=P(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories,r);t.data.toc.categories[c].title="__default"!==a?a:"",t.data.toc.categories[c].editMode=!1,t.data.dirty=!0},updateQuestionTitle:function(t,e){var n=e.payload,o=n.categoryId,i=n.questionId,a=n.title;if(t.data){if(o){var r=P(t.data.toc.categories,o),c=P(t.data.toc.categories[r].pages,i);t.data.toc.categories[r].pages[c].title=a,t.data.toc.categories[r].pages[c].editMode=!1}t.data.dirty=!0}},moveCategory:function(t,e){var n,o,i,a=e.payload,r=a.from,c=a.to,d=null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o||null===(i=o.categories)||void 0===i?void 0:i[r.itemIndex];t.data.toc.categories.splice(r.itemIndex,1),t.data.toc.categories.splice(c.itemIndex,0,d),t.data.dirty=!0},moveQuestionWithinOrigin:function(t,e){var n,o,i,a,r=e.payload,c=r.from,d=r.to,l=null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o||null===(i=o.categories)||void 0===i||null===(a=i[c.parentIndex])||void 0===a?void 0:a.pages;l.splice(d.itemIndex,0,l.splice(c.itemIndex,1)[0]),t.data.dirty=!0},moveQuestionToNotEmptyCategory:function(t,e){var n,o=e.payload,i=o.from,a=o.to,r=null===t||void 0===t||null===(n=t.data.toc)||void 0===n?void 0:n.categories;r[a.parentIndex].pages.splice(a.itemIndex,0,r[i.parentIndex].pages.splice(i.itemIndex,1)[0]),t.data.dirty=!0},removeQuestion:function(t,e){var n,o,i,a,r,c,d=e.payload,l=d.category_id,s=d.article_id,u=P(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories,l),p=P(null===t||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.toc)||void 0===a||null===(r=a.categories)||void 0===r||null===(c=r[u])||void 0===c?void 0:c.pages,s);t.data.toc.categories[u].pages.splice(p,1),t.data.dirty=!0},removeCategory:function(t,e){var n,o,i,a,r,c=e.payload.id,d=P(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories,c);t.data.toc.categories.splice(d,1),(null===t||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.toc)||void 0===a||null===(r=a.categories)||void 0===r?void 0:r.length)||(t.data.toc=C),t.data.dirty=!0},setQuestion:function(t,e){var n=e.payload;t.question=function(t,e){var n;return T(T({},t),{},{content:T(T({},t.content),{},{questionStatement:(null===(n=t.content)||void 0===n?void 0:n.questionStatement)||b.a}),skills:((null===t||void 0===t?void 0:t.skills)||[]).filter((function(t){return e.indexOf(t)>=0}))})}(n.data,t.data.skills),t.question[f.a]=n[f.a]},setRestoredQuestion:function(t,e){var n=e.payload;t.question&&(t.question.content=n.data.content,t.question.protected_content=n.data.protected_content,t.question.question_type=n.data.question_type,t.question.difficulty=n.data.difficulty,t.question.relevant_lessons=n.data.relevant_lessons,t.question.skills=n.data.skills,t.question.snapshot_loaded=!0)},clearRestoredQuestion:function(t){t.question&&(t.question.content=null,t.question.protected_content=null,t.question.question_type=null,t.question.difficulty=null,t.question.snapshot_loaded=!1)},updateQuestionData:function(t,e){var n=e.payload;t.question.content=n.content,t.question.protected_content=n.protected_content,t.question.question_type=n.question_type,t.question.difficulty=n.difficulty,t.question.skills=n.skills,t.question.relevant_lessons=n.relevant_lessons,t.question.dirty=!0},updateQuestionETag:function(t,e){var n,o=e.payload;t.question=null!==(n=t.question)&&void 0!==n?n:null,t.question[f.a]=o[f.a],o.saved&&(t.question.dirty=!1,t.question.modified=(new Date).toISOString())},postAssessmentSave:function(t,e){var n=e.payload;t.data[f.a]=n,t.data.dirty=!1},clearQuestion:function(t){t.question=null},updateProgress:function(t,e){var n=e.payload;t.question&&(t.question.progress=n)}})});e.b=L.reducer;var A=T(T({},L.actions),{},{load:function(t){var e=t.author_id,n=t.collection_id,o=t.assessment_id,i=t.course_url_slug,a=void 0===i?"":i,r=t.page_url_slug,d=void 0===r?"":r,s=t.mode;return function(t){var i=a&&d?"assessment/".concat(a,"/").concat(d):"assessment/".concat(e,"/").concat(n,"/").concat(o),r="view"===s||"compare"===s?i:"author/".concat(e,"/collection/").concat(n,"/assessment/").concat(o);return t(Object(c.a)({},l.a,{types:L.actions,endpoint:r,postProcess:J,getHeaders:!0})).then((function(e){e&&t(A.updateETag(e.xhr.headers.get(f.a)))}))}},save:function(t){var e=t.assessment;return function(t){return Object(_.z)(U(e)).then((function(e){e&&t(A.postAssessmentSave(e.xhr.headers.get(f.a)))}))}},prepareDockerOnSetAssessment:function(t){return function(){var e=Object(r.a)(a.a.mark((function e(n,o){var i,r,c,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===t||void 0===t?void 0:t.docker)?T(T({},t.docker),{},{envs:null!==(i=t.docker.envs)&&void 0!==i?i:[]}):m.e,e.next=3,Object(j.g)();case 3:c=e.sent,d=T(T({},r),{},{container:T(T({},r.container),{},{liveInstance:c})}),n(S.b.setObject(d));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},saveQuestion:function(t){var e=t.question;return function(t){return Object(_.C)(M(e)).then((function(e){var n;e&&t(A.updateQuestionETag((n={},Object(c.a)(n,f.a,e.xhr.headers.get(f.a)),Object(c.a)(n,"saved",!0),n)))}))}},loadQuestion:function(t){return function(e){return Object(_.w)(t).then((function(t){if(null===t||void 0===t?void 0:t.data){var n=JSON.parse(t.data);return e(A.setQuestion(Object(c.a)({data:n},f.a,t.xhr.headers.get(f.a)))),n}}))}},loadQuestionSnapshot:function(t,e,n,o){return function(n){return Object(_.x)(t,e,o,v.t.ASSESSMENT_QUESTION).then((function(t){if(null===t||void 0===t?void 0:t.data){var e=JSON.parse(t.data);return n(A.setRestoredQuestion({data:e})),e}}))}}}),D=function t(e,n){return function(e,o){return n&&e(n),e(g.b.show(h.w,{status:"WAIT",text:"Saving Assessment"})),e(A.save({assessment:T(T({},o().assessment.data),{},{docker:JSON.stringify(Object(m.b)(o().dockerDetails))})})).then((function(){e(g.b.show(h.w,{status:"SUCCESS",text:"Assessment saved"}))})).catch((function(o){var i;Object(y.a)(o,e);var a=null===o||void 0===o||null===(i=o.responseJSON)||void 0===i?void 0:i.errorText;o.status===O.c.AlreadyExistsException&&a===O.b.versionOutDatedMessage?e(F((function(){e(A.updateETag(v.M)),e(t(void 0,n))}))):e(g.b.show(h.w,{status:"ERROR",text:"Failed to save assessment"}))}))}},J=function(t){var e=t.data,n=JSON.parse(e),o=n.toc;return Object.keys(o).length||(n=T(T({},n),{},{toc:C,dirty:!1})),n},R=function(t){var e=t.map((function(t){return Object(x.a)((null===t||void 0===t?void 0:t.text)||"","concepts").reduce((function(t,e){var n=e.name;return T(T({},t),{},Object(c.a)({},n,!0))}),{})})).reduce((function(t,e){return T(T({},t),e)}),{});return Object.keys(e)},U=function(t){var e=t.udata_files.map((function(t){return t.file_id}));e=JSON.stringify(e);var n=JSON.stringify(t.toc),o=t.pass_percentage?parseFloat(t.pass_percentage):0;return T(T({},t),{},{udata_files:e,toc:n,pass_percentage:o,dirty:!1,concept_list:R([t.summary])})},M=function(t){var e,n,i,a=[];"AssessmentFreeText"===t.question_type?a=R([].concat(Object(o.a)(null===t||void 0===t||null===(e=t.protected_content)||void 0===e?void 0:e.answers),[null===t||void 0===t||null===(n=t.content)||void 0===n?void 0:n.questionStatement])):a=R([null===t||void 0===t||null===(i=t.content)||void 0===i?void 0:i.questionStatement]);return T(T({},t),{},{concept_list:a})},W=function t(e){return function(n,o){return e&&n(e),n(g.b.show(h.w,{status:"WAIT",text:"Saving Question"})),n(A.saveQuestion({question:o().assessment.question})).then((function(){n(g.b.show(h.w,{status:"SUCCESS",text:"Question saved"}))})).catch((function(o){var i,a=null===o||void 0===o||null===(i=o.responseJSON)||void 0===i?void 0:i.errorText;o.status===O.c.AlreadyExistsException&&a===O.b.versionOutDatedMessage?n(F((function(){n(A.updateQuestionETag(Object(c.a)({},f.a,v.M))),n(t(e))}))):n(g.b.show(h.w,{status:"ERROR",text:"Failed to save question"}))}))}},q=function(t,e,n,o){return function(i){var a=o.file.name.split(" ").join("-"),r="/api/author/".concat(t,"/collection/").concat(e,"/containers/").concat(a,"/get_upload_url?assessment_id=").concat(n);return Object(w.a)({url:r,type:"GET"}).then(JSON.parse).then((function(t){var e=t.gcs_object_name,n=t.container_id,r=void 0===n?-1:n,c=t.blob_upload_url,d=t.upload_success_url,l=t.build_status_url,s=t.tarball_download_url,u=t.build_log_url,p=t.rebuild_image_url;return i(S.b.setFile(T(T({},o),{},{id:r,buildStatusUrl:l,tarballDownloadUrl:s,buildLogUrl:u,rebuildImageUrl:p,file:{name:a,size:o.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return Object(w.a)({url:d,type:"POST",data:{gcs_object_name:e}},!0)},upload:function(){return Object(w.a)({url:c,type:"POST",data:o.file,processData:!1,contentType:o.file.type})}}})).catch((function(t){console.log(t)}))}},F=function(t){return function(e){e(g.b.close()),e(g.b.show(h.i,{onConfirm:t,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}}},OYQK:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var o={operationNotAllowedException:400,accessDeniedException:403,AlreadyExistsException:409,serverError:500},i={AssetUploadFailedException:"ASSET_UPLOAD_FAILED"},a={versionOutDatedMessage:"Version outdated",shotUrlNotUniqueMessage:"Shot already exists with url",canonicalUrlNotValid:"Invalid Canonical Url.",programmaticallyCancelled:"Operation was programmatically cancelled",recaptchaLoadingFailedErrText:"Failed to load recaptcha! Please refresh page or try a different browser. If the error still persists, please contact support@educative.io"}},QJIx:function(t,e,n){"use strict";e.a={version:"2.0",text:"",mdHtml:"",cursorPosition:{line:0,ch:0}}},S2Rg:function(t,e,n){"use strict";e.a={react:{react:"15.6.1","react-dom":"15.6.1"}}},UvL3:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var o=n("rfrl"),i="5.0",a="6.0",r="7.0",c="7.0",d=Object(o.a)((function(t,e){var n;t.entryFileName=null===e||void 0===e||null===(n=e[t.language])||void 0===n?void 0:n.entry_filename,t.version=a})),l=Object(o.a)((function(t,e){var n,o,i=null===t||void 0===t?void 0:t.docker;0===Object.keys(null!==i&&void 0!==i?i:{}).length&&(t.docker=e);var a=null===t||void 0===t||null===(n=t.dockerJob)||void 0===n?void 0:n.inputFileName,c=null===t||void 0===t||null===(o=t.dockerJob)||void 0===o?void 0:o.key;if(a)t.entryFileName=a;else if(c){var d,l,s=null===t||void 0===t||null===(d=t.docker)||void 0===d||null===(l=d.jobs)||void 0===l?void 0:l.find((function(t){return t.key===c}));s&&(t.entryFileName=s.inputFileName)}t.version=r})),s=function(t,e,n){var o=t.version;return o===c?t:parseFloat(o)===parseFloat(a)?l(t,e):parseFloat(o)<=parseFloat(i)?l(d(t,n),e):t}},WAQY:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n("o0o1"),i=n.n(o),a=n("HaE+"),r=n("rePB"),c=n("clVV"),d=n("i7Pf");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=Object(d.b)({name:"user/courseCompletion",initialState:{},reducers:{set:function(t,e){var n=e.payload;return s(s({},t),n)},setAll:function(t,e){return e.payload},reset:function(t){}}});e.b=u.reducer;var p=s(s({},u.actions),{},{load:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;return function(){var r=Object(a.a)(i.a.mark((function a(r,d){var l,u,v;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return");case 2:return l=t.filter((function(t){return"collection"===t.doc_type})).map((function(t){return{map_name:"CourseCompletion_".concat(t.author_id,"_").concat(t.id),map_keys:null}})),i.next=5,Object(c.t)(l);case 5:u=i.sent,v=s(s({},n),JSON.parse(u)),"function"===typeof o?o(v):r(p.setAll(v));case 8:case"end":return i.stop()}}),a)})));return function(t,e){return r.apply(this,arguments)}}()}})},X9L9:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var o=n("i7Pf"),i=Object(o.b)({name:"notFoundPage",initialState:!1,reducers:{set:function(t,e){return e.payload}}});e.a=i.reducer;var a=i.actions},cNmg:function(t,e,n){"use strict";var o=n("jxKE");e.a=function(t,e){var n,i;if(e===o.P.LESSON)return o.l.COLLECTION;var a=t||(null===(n=window)||void 0===n||null===(i=n.location)||void 0===i?void 0:i.pathname);return(null===a||void 0===a?void 0:a.startsWith("/path"))?o.l.PATH:(null===a||void 0===a?void 0:a.startsWith("/module"))?o.l.MODULE:o.l.COLLECTION}},clVV:function(t,e,n){"use strict";n.d(e,"E",(function(){return k})),n.d(e,"g",(function(){return L})),n.d(e,"p",(function(){return A})),n.d(e,"o",(function(){return D})),n.d(e,"q",(function(){return J})),n.d(e,"t",(function(){return R})),n.d(e,"J",(function(){return q})),n.d(e,"n",(function(){return F})),n.d(e,"G",(function(){return H})),n.d(e,"i",(function(){return V})),n.d(e,"j",(function(){return K})),n.d(e,"y",(function(){return B})),n.d(e,"I",(function(){return Y})),n.d(e,"P",(function(){return z})),n.d(e,"r",(function(){return X})),n.d(e,"m",(function(){return Z})),n.d(e,"O",(function(){return $})),n.d(e,"s",(function(){return tt})),n.d(e,"d",(function(){return nt})),n.d(e,"b",(function(){return ot})),n.d(e,"k",(function(){return it})),n.d(e,"D",(function(){return at})),n.d(e,"a",(function(){return ct})),n.d(e,"c",(function(){return dt})),n.d(e,"e",(function(){return lt})),n.d(e,"f",(function(){return st})),n.d(e,"F",(function(){return ut})),n.d(e,"H",(function(){return pt})),n.d(e,"M",(function(){return vt})),n.d(e,"K",(function(){return ft})),n.d(e,"L",(function(){return gt})),n.d(e,"w",(function(){return ht})),n.d(e,"v",(function(){return yt})),n.d(e,"x",(function(){return Ot})),n.d(e,"C",(function(){return bt})),n.d(e,"A",(function(){return mt})),n.d(e,"l",(function(){return jt})),n.d(e,"u",(function(){return St})),n.d(e,"z",(function(){return wt})),n.d(e,"B",(function(){return xt})),n.d(e,"h",(function(){return Et})),n.d(e,"N",(function(){return Tt}));var o=n("Ff2n"),i=n("rePB"),a=n("o0o1"),r=n.n(a),c=n("HaE+"),d=n("rfrl"),l=n("fNkK"),s=n("5R4e"),u=n("OpYl"),p=n("+Zpp"),v=n("9wcz"),f=n.n(v),g=n("VMC0"),h=n("AkIC"),y=n("XZhq"),O=n("OYQK"),_=n("Vgjn"),b=n("Evd+"),m=n("G384"),j=n("9dyO"),S=n("OR4b"),w=n("jxKE"),x=n("pLgj"),E=n("NHG4"),T=n("t4OO"),C=n("cNmg"),P=n("9jYD");function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k=function(){return function(t){t(j.a.reset()),t(h.b.set({isLoading:!1,isLoaded:!1}))}},L=function(t){var e=t.isMini,n=void 0!==e&&e,o=t.work_type,i=void 0===o?"":o,a=t.pathId,r=void 0===a?"":a;return Object(l.a)({url:"/api/author/collection".concat(i?"?work_type=".concat(i):""),type:"POST",data:{is_mini:n,path_id:r}})},A=function(t,e,n,o){var i="/api/author/".concat(t,"/collection/").concat(e,"/deleted-pages");return n&&(i+="?cursor=".concat(n)),o&&(i+="?pageSize=".concat(o)),Object(l.a)({url:i,type:"GET"})},D=function(t){var e,n=t.author_id,o=t.collection_id,i=t.course_url_slug,a=t.work_type;return e=i?"collection/".concat(i,"/certificate-status?work_type=").concat(a):"collection/".concat(n,"/").concat(o,"/certificate-status?work_type=").concat(a),Object(l.a)({url:"/api/".concat(e),type:"GET"})},J=function(t){var e,n=t.author_id,o=t.collection_id,i=t.course_url_slug,a=t.is_draft_page,r=t.work_type,c=t.path_author_id,d=void 0===c?null:c,s=t.path_id,u=void 0===s?null:s,p=t.isModulePreview,v=void 0!==p&&p;return e=i?"collection/".concat(i,"?work_type=").concat(r):a&&!v?"author/".concat(n,"/collection/").concat(o,"?work_type=").concat(r).concat(d&&u?"&path_author_id=".concat(d,"&path_id=").concat(u):""):"collection/".concat(n,"/").concat(o,"?work_type=").concat(r).concat(d&&u?"&path_author_id=".concat(d,"&path_id=").concat(u):""),Object(l.a)({url:"/api/".concat(e),type:"GET"},!0)},R=function(t){return Object(l.a)({url:"/api/userdata/maps/get_values",type:"POST",data:{maps_keys_json:JSON.stringify({maps:t})}})},U=Object(d.a)((function(t,e){var n,o,i,a=null===t||void 0===t||null===(n=t.instance)||void 0===n||null===(o=n.details)||void 0===o?void 0:o.docker;a?(Object(m.b)(a),a.envs=null!==(i=a.envs)&&void 0!==i?i:[],a.container.liveInstance=e):t.instance.details.docker=b.e})),M=Object(d.a)((function(t,e){var n,o=null===t||void 0===t?void 0:t.docker;o?(Object(m.b)(o),o.envs=null!==(n=o.envs)&&void 0!==n?n:[],o.container.liveInstance=e):t.docker=b.e})),W=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var o=Object(c.a)(r.a.mark((function o(i,a){var c,d,l,s,p,v,f,g;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!!(null===(c=a())||void 0===c||null===(d=c.user)||void 0===d||null===(l=d.info)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.user_id)||(null===t||void 0===t?void 0:t.is_user_loggedin)||e)&&!t.instance.details.allow_logged_out_executions){o.next=7;break}return o.next=4,Object(u.g)(t.collectionId,t.authorId);case 4:o.t0=o.sent,o.next=8;break;case 7:o.t0={};case 8:if(f=o.t0,g=U(t,f),!!((null===(p=a())||void 0===p||null===(v=p.loader)||void 0===v?void 0:v.isLoading)||n)){o.next=13;break}throw Error(O.b.programmaticallyCancelled);case 13:return o.next=15,i(j.a.set(g));case 15:return o.abrupt("return",i(x.b.setObject(g.instance.details.docker)));case 16:case"end":return o.stop()}}),o)})));return function(t,e){return o.apply(this,arguments)}}()},q=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n,o){var i,a,c,d,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!!!(null===(i=o())||void 0===i||null===(a=i.user)||void 0===a||null===(c=a.info)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.user_id)){e.next=7;break}return e.next=4,Object(u.g)();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return l=e.t0,s=M(t,l),e.next=12,n(j.a.updateDockerForExternalLesson(s));case 12:return e.abrupt("return",n(x.b.setObject(s.docker)));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},F=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a){a(h.b.set({isLoading:!0,isLoaded:!1}));var d=Object(C.a)(null===e||void 0===e?void 0:e.asPath);t.work_type||(t=I(I({},t),{},{work_type:d}));var l=/(collection|path|module)editor\/([0-9]{1,16})\/([0-9]{1,16})$/;return J(I(I({},t),{},{isModulePreview:i})).then(function(){var s=Object(c.a)(r.a.mark((function c(s){var u,v,g,h,y,O,_,b,m,j,S,w;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return h=s.data,y=JSON.parse(h),O=null===(u=y)||void 0===u||null===(v=u.instance)||void 0===v?void 0:v.details,_=O.work_type,b=O.author_id,m=O.collection_id,d!==_&&t.is_draft_page&&l.test(null===e||void 0===e?void 0:e.asPath)&&!o&&e.replace("/".concat(_,"editor/").concat(b,"/").concat(m)),y=I(I({},y),{},{collectionId:m,authorId:b}),!t.author_id||t.course_url_slug||!O.url_slug||t.is_draft_page||i||(Object(p.c)(p.b.REDIRECTION,p.a.FRIENDLY_URL_REDIRECTION),j=Object(P.a)(d,!!t.page_id),S="/".concat(j,"/").concat(O.url_slug),t.page_id&&(w=new f.a,S+="/".concat(w.encode(parseInt(t.page_id,10)))),e.asPath.split("#")[0].endsWith("/assessment")&&(S+="/assessment"),e.asPath.endsWith("/project")&&(S+="/project"),e.asPath.split("#")[0].endsWith("/certificate")&&(S+="/certificate"),e.asPath.split("#")[1]&&(S+="#".concat(e.asPath.split("#")[1])),o||e.replace(S)),r.next=11,a(W(y,null===(g=t)||void 0===g?void 0:g.is_draft_page,n));case 11:return r.abrupt("return",y);case 12:case"end":return r.stop()}}),c)})));return function(t){return s.apply(this,arguments)}}()).then((function(){a(h.b.set({isLoaded:!0,isLoading:!1}))})).catch((function(t){t.message!==O.b.programmaticallyCancelled&&Object(s.a)(t,a),401!==t.status&&a(h.b.set({isLoaded:!1,isLoading:!1}))}))}},H=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e),type:"PUT",data:n,headers:Object(i.a)({},_.a,o)},!0,a)},Q=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.l.COLLECTION,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(a){return a(h.b.set({isLoading:!0})),a(g.b.show(y.w,{status:"WAIT",text:"Saving ".concat(Object(w.gb)(o))})),H(e.author_id,e.collection_id,e.payload,e.payload.eTag,i).then((function(t){var i=t.xhr,r=e.payload;a(j.a.updateETAG(i.headers.get(_.a))),a(g.b.update({status:"SUCCESS",text:"".concat(Object(w.gb)(o)," saved successfully")})),a(j.a.updateDetails(r)),"function"===typeof n&&n(),a(h.b.set({isLoaded:!0,isLoading:!1})),a(j.a.setDirty(!1))})).catch((function(n){Object(s.a)(n,a),n.status===O.c.AlreadyExistsException?(a(g.b.close()),e.payload.eTag=w.M,a(g.b.show(y.i,{onConfirm:function(){return a(t(e,void 0,o))},cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))):a(g.b.update({status:"ERROR",text:"Unable to Save Changes"})),a(h.b.set({isLoading:!1}))}))}},G=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"collection",o=arguments.length>3?arguments[3]:void 0;return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/publish?work_type=").concat(n),type:"POST",data:{path_id:o}})},V=function(t,e){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e),type:"DELETE"})},K=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.l.COLLECTION;return function(i,a){return i(g.b.show(y.w,{status:"WAIT",text:"Deleting ".concat(Object(w.gb)(o))})),V(t,e).then(JSON.parse).then((function(t){t.is_submitted?i(g.b.update({status:"ERROR",text:"".concat(Object(w.gb)(o)," already submitted for deletion")})):t.is_approved&&!t.is_submitted?(i(g.b.update({status:"SUCCESS",text:"".concat(Object(w.gb)(o)," submitted for deletion")})),n&&i(S.a.load())):(i(g.b.update({status:"SUCCESS",text:"".concat(Object(w.gb)(o)," deleted")})),i(S.a.delete(e)))})).catch((function(t){console.log(t),Object(s.a)(t,i),i(g.b.update({status:"ERROR",text:"Unable to Delete ".concat(Object(w.gb)(o))}))}))}},B=function(t,e,n,o,i,a){var r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return function(c){return c(h.b.set({isLoading:!0})),c(g.b.update({status:"WAIT",text:o})),G(t,e,n,r).then((function(){c(j.a.publish()),c(g.b.update({status:"SUCCESS",text:i})),"function"===typeof a&&a(),c(h.b.set({isLoading:!1}))})).catch((function(t){var e,n,i=null;Object(s.a)(t,c),i=400===t.status&&(null===t||void 0===t||null===(e=t.responseJSON)||void 0===e||null===(n=e.errors)||void 0===n?void 0:n.categories)?t.responseJSON.errors.categories:"".concat(o," failed"),c(g.b.showOrUpdate(y.w,{status:"ERROR",text:i})),c(h.b.set({isLoading:!1}))}))}},Y=function(t,e,n){return function(o){var i=n.file.name.split(" ").join("-"),a="/api/author/".concat(t,"/collection/").concat(e,"/containers/").concat(i,"/get_upload_url");return o(h.b.set({isLoaded:!1,isLoading:!0})),Object(l.a)({url:a,type:"GET"}).then(JSON.parse).then((function(t){var e=t.gcs_object_name,a=t.container_id,r=void 0===a?-1:a,c=t.blob_upload_url,d=t.upload_success_url,s=t.build_status_url,u=t.tarball_download_url,p=t.build_log_url,v=t.rebuild_image_url;return o(x.b.setFile(I(I({},n),{},{id:r,buildStatusUrl:s,tarballDownloadUrl:u,buildLogUrl:p,rebuildImageUrl:v,file:{name:i,size:n.file.size,awaitingUpload:!0}}))),o(h.b.set({isLoaded:!0,isLoading:!1})),{onUploadSuccess:function(){return Object(l.a)({url:d,type:"POST",data:{gcs_object_name:e}},!0)},upload:function(){return Object(l.a)({url:c,type:"POST",data:n.file,processData:!1,contentType:n.file.type})}}})).catch((function(t){console.log(t),o(h.b.set({isLoaded:!1,isLoading:!1}))}))}},z=function(t){var e=t.authorId,n=t.collectionId,o=t.upload,i=t.onUploadSuccess,a=t.collectionType;return function(t){return t(x.b.updateBuildStatus("UPLOADING")),o().then((function(){return console.log("file uploaded successfully"),i()})).then((function(t){return JSON.parse(t.data)})).then((function(o){var i=o.image_name,r=void 0===i?"default_name":i;t(ut({author_id:e,collection_id:n},x.b.afterFileUpload(r),!1,a)),t(g.b.show(y.w,{status:"SUCCESS",text:"Docker Image build has been queued!!"}))})).catch((function(e){console.log("error while uploading docker file",e),t(x.b.updateBuildStatus("FAILURE")),t(g.b.show(y.w,{status:"ERROR",text:"Uploading Docker File failed"}))}))}},X=function(t,e){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/image/upload/url"),type:"GET"})},Z=function(t,e,n){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/cerf/").concat(n,"/upload/url"),type:"GET"})},$=function(){var t=Object(c.a)(r.a.mark((function t(e,n,o){var i,a,c,d,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.upload_url,a=n.upload_success_url,c=n.gcs_object_name,d=function(){return Object(l.a)({url:i,type:"POST",data:o,processData:!1,contentType:o.type})},s=function(){return Object(l.a)({url:a,type:"POST",data:{gcs_object_name:c,file_size:o.size}})},e(g.b.show(y.w,{status:"WAIT",text:"Uploading code resource file"})),u=n,t.next=7,d();case 7:return console.log("code execution resource file uploaded successfully"),t.next=10,s();case 10:console.log("upload confirmed"),u.file=null,u.upload_url=null,u.upload_success_url=null,u.updated=!1,u.uploadStatus=w.bb.UPLOAD_SUCCESSFUL,e(j.a.updateCodeExecResourceFile(u));case 17:case"end":return t.stop()}}),t)})));return function(e,n,o){return t.apply(this,arguments)}}(),tt=function(t,e){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/udata/upload/url"),type:"GET"})},et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/page?work_type=").concat(n||Object(C.a)()),type:"POST"})},nt=function(t,e){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/project"),type:"POST"})},ot=function(t,e){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/assessment"),type:"POST"})},it=function(t,e,n,o){return Object(l.a)({url:"/api/reader/external-offer",type:"POST",data:{author_id:t,collection_id:e,page_id:n,course_completion_percentage:o}})},at=function(t,e,n,o,i){return Object(l.a)({url:"/api/reader/external-offer/interaction/".concat(t),type:"POST",data:{author_id:n,collection_id:o,interaction:e,course_completion_percentage:i}})};function rt(t,e){var n,o,i=JSON.stringify(t.instance.details.toc),a=I({},t.instance.details),r=null!==(n=null===(o=a.code_exec_resource_metadata)||void 0===o?void 0:o.file_id)&&void 0!==n?n:null,c=JSON.stringify(a.udata_files.map((function(t){return t.file_id}))),d=JSON.stringify({code_themes:a.CodeThemes}),l=JSON.stringify(a.testimonials),s=JSON.stringify(Object(b.b)(e)),u=t[_.a],p=JSON.stringify({licensing:a.licensing}),v=a.tags.toString(),f=JSON.stringify({api_keys:a.api_keys});return delete a.api_keys,delete a.toc,delete a.udata_files,delete a.CodeThemes,delete a.testimonials,delete a.licensing,I(I({},a),{},{categories_json_string:i,testimonials_string:l,docker:s,user_data_file_ids_string:c,code_exec_resource_file_id:r,default_themes_json_string:d,api_keys_json_string:f,tags:v,eTag:u,licensing_json_string:p})}var ct=function(t){var e=t.author_id,n=t.collection_id,o=t.category_id,i=t.index,a=t.createNewArticle,d=void 0===a||a,l=t.data,u=void 0===l?{}:l,p=t.collectionType,v=void 0===p?null:p;return function(){var t=Object(c.a)(r.a.mark((function t(a,c){var l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return a(j.a.addArticle({category_id:o,article:t,index:i,data:u}))},d){t.next=5;break}l(),t.next=7;break;case 5:return a(h.b.set({isLoaded:!1,isLoading:!0})),t.abrupt("return",et(e,n,v).then((function(t){var n=JSON.parse(t);n.author_id=e,l(n),a(h.b.set({isLoaded:!0,isLoading:!1}))})).catch((function(t){Object(s.a)(t,a),a(h.b.set({isLoaded:!1,isLoading:!1}))})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},dt=function(t){var e=t.author_id,n=t.collection_id,o=t.project_id,i=t.category_id,a=t.index;return function(t,r){t(h.b.set({isLoaded:!1,isLoading:!0})),function(t,e,n){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/project/").concat(n,"/project_component"),type:"POST"})}(e,n,o).then((function(e){var n=JSON.parse(e);t(T.d.addComponent({category_id:i,component:n,index:a})),t(h.b.set({isLoaded:!0,isLoading:!1}))})).catch((function(e){Object(s.a)(e,t),t(h.b.set({isLoaded:!1,isLoading:!1}))}))}},lt=function(t){var e=t.author_id,n=t.collection_id,o=t.assessment_id,i=t.category_id,a=t.index;return function(t,r){t(h.b.set({isLoaded:!1,isLoading:!0})),function(t,e,n){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/assessment/").concat(n,"/question"),type:"POST"})}(e,n,o).then((function(e){var n=JSON.parse(e);t(E.a.addQuestion({category_id:i,question:n,index:a})),t(h.b.set({isLoaded:!0,isLoading:!1}))})).catch((function(e){Object(s.a)(e,t),t(h.b.set({isLoaded:!1,isLoading:!1}))}))}},st=function(t){var e=t.author_id,n=t.collection_id,o=t.category_id,i=t.src_article_id,a=t.src_article_title,r=t.collectionType;return function(t,c){return t(h.b.set({isLoaded:!1,isLoading:!0})),function(t,e,n){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/page"),type:"POST",data:{collection_id:e,page_id:n,instance_type:"latest"}})}(e,n,i).then((function(i){var d=JSON.parse(i);d.title=a,t(j.a.cloneArticle({category_id:o,article:d}));var l=rt(c().author.collection,c().dockerDetails);t(Q({author_id:e,collection_id:n,payload:l},void 0,r)),t(h.b.set({isLoaded:!0,isLoading:!1}))})).catch((function(e){Object(s.a)(e,t),t(h.b.set({isLoaded:!1,isLoading:!1}))}))}},ut=function(t,e){var n=t.author_id,o=t.collection_id,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.l.COLLECTION;return function(){var t=Object(c.a)(r.a.mark((function t(c,d){var l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e);case 2:if(!i){t.next=4;break}return t.abrupt("return");case 4:return l=rt(d().author.collection,d().dockerDetails),t.abrupt("return",c(Q({author_id:n,collection_id:o,payload:l},void 0,a)));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},pt=function(t){return function(e,n){var o,i=n().author.collection,a=null===i||void 0===i||null===(o=i.instance)||void 0===o?void 0:o.details,r=a.author_id,c=a.collection_id,d=a.work_type||w.l.COLLECTION,l=rt(i,n().dockerDetails);return e(Q({author_id:r,collection_id:c,payload:l},void 0,d,t))}},vt=function(t,e){return Object(l.a)({url:"/api/notifications/".concat(t,"/").concat(e),type:"POST"})},ft=function(t){var e=t.author_id,n=t.collection_id,o=t.assessment_id,i=t.question_id,a=t.protectedContent;return Object(l.a)({url:"/api/assessment/".concat(e,"/").concat(n,"/").concat(o,"/").concat(i),type:"POST",data:{answer:JSON.stringify(a),timestamp:(new Date).toISOString()}},!0)},gt=function(t){var e=t.author_id,n=t.collection_id,o=t.assessment_id;return Object(l.a)({url:"/api/assessment/".concat(e,"/").concat(n,"/").concat(o),type:"POST",data:{timestamp:(new Date).toISOString()}},!0)},ht=function(t){var e=t.authorId,n=t.collectionId,o=t.assessmentId,i=t.questionId,a="view"===t.mode?"/api/assessment/".concat(e,"/").concat(n,"/").concat(o,"/").concat(i):"/api/author/".concat(e,"/collection/").concat(n,"/assessment/").concat(o,"/question/").concat(i);return Object(l.a)({url:a,type:"GET"},!0)},yt=function(t){var e=t.authorId,n=t.collectionId,o=t.projectId,i=t.projectComponentId,a="view"===t.mode?"/api/project/".concat(e,"/").concat(n,"/").concat(o,"/").concat(i):"/api/author/".concat(e,"/collection/").concat(n,"/project/").concat(o,"/project_component/").concat(i);return Object(l.a)({url:a,type:"GET"},!0)},Ot=function(t,e,n,o){var i="/api/author/".concat(t,"/collection/").concat(e,"/page/snapshot?key=").concat(n,"&document_type=").concat(o);return Object(l.a)({url:i,type:"GET"},!0)},_t=function(t){return I(I({},((e=t).all_lessons,Object(o.a)(e,["all_lessons"]))),{},{content:{content:t.content,protected_content:t.protected_content},protected_content:void 0});var e},bt=function(t){return Object(l.a)({url:"/api/author/".concat(t.author_id,"/collection/").concat(t.collection_id,"/assessment/").concat(t.assessment_id,"/question/").concat(t.question_id),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(_t(t)),headers:Object(i.a)({},_.a,t[_.a])},!0)},mt=function(t){return Object(l.a)({url:"/api/author/".concat(t.author_id,"/collection/").concat(t.collection_id,"/project/").concat(t.project_id,"/project_component/").concat(t.project_component_id),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(t),headers:Object(i.a)({},_.a,t[_.a])},!0)},jt=function(t,e,n){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/assessment/").concat(n,"/udata/upload/url"),type:"GET"})},St=function(t,e,n){return Object(l.a)({url:"/api/author/".concat(t,"/collection/").concat(e,"/project/").concat(n,"/udata/upload/url"),type:"GET"})},wt=function(t){return Object(l.a)({url:"/api/author/".concat(t.author_id,"/collection/").concat(t.collection_id,"/assessment/").concat(t.assessment_id),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(t),headers:Object(i.a)({},_.a,t[_.a])},!0)},xt=function(t){return Object(l.a)({url:"/api/author/".concat(t.author_id,"/collection/").concat(t.collection_id,"/project/").concat(t.project_id),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(t),headers:Object(i.a)({},_.a,t[_.a])},!0)},Et=function(t,e,n,o){var i="/api/assessment/begin/".concat(t,"/").concat(e,"/").concat(n);return o&&(i+="?continue=".concat(o)),Object(l.a)({url:i,type:"POST"})},Tt=function(t){var e=t.upload,n=t.onUploadSuccess;return function(t){return t(x.b.updateBuildStatus("UPLOADING")),e().then((function(){return console.log("file uploaded successfully"),n()})).then((function(t){return JSON.parse(t.data)})).then(function(){var e=Object(c.a)(r.a.mark((function e(n){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.image_name,i=void 0===o?"default_name":o,t(x.b.afterFileUpload(i)),t(g.b.show(y.w,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error while uploading docker file",e),t(x.b.updateBuildStatus("FAILURE")),t(g.b.show(y.w,{status:"ERROR",text:"Uploading Docker File failed"}))}))}}},fh7V:function(t,e,n){"use strict";e.a={Code:!1,Markdown:!1,RunJS:!1,SPA:!1}},mA5Z:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("JyDq"),i=n("DOFM"),a=n("S2Rg"),r=4;e.b={version:r,theme:"default",showLineNumbers:!0,showConsole:!1,hideResultOutput:!1,hideOutputUrl:!1,hideCodeView:!1,loaders:(new o.a).loaders,npmPackages:a.a.react,outputHeight:300,selectedApiKeys:{},selectedEnvVars:{},outputLayout:"desktop",codeContents:{canAddNpmPackages:!0,judge:{judgeDisabled:!1,judgeActive:!1,evaluationContent:i.a.authorCode,hintsContent:[],solutionContent:"",showSolution:!1,exerciseTabsVisible:!1,version:i.a.version},module:"/",id:0,maxId:3,selectedId:2,children:[{id:1,module:"index.js",leaf:!0,data:{content:"import React from 'react';\r\nrequire('./style.css');\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app.js';\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n);\r\n",language:"jsx",staticFile:!0,hidden:!1,highlightedLines:null}},{id:2,module:"app.js",leaf:!0,data:{content:"import React from 'react';\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <span>Hello World</span>\r\n    );\r\n  }\r\n}\r\n",language:"jsx",staticFile:!1,hidden:!1,highlightedLines:null}},{module:"style.css",id:3,leaf:!0,data:{content:"p {\r\n  color: blue;\r\n}",language:"css",staticFile:!1,hidden:!1,highlightedLines:null}}]}}},t4OO:function(t,e,n){"use strict";n.d(e,"c",(function(){return k})),n.d(e,"a",(function(){return L})),n.d(e,"d",(function(){return M})),n.d(e,"e",(function(){return W})),n.d(e,"f",(function(){return H})),n.d(e,"g",(function(){return Q}));var o=n("o0o1"),i=n.n(o),a=n("HaE+"),r=n("KQm4"),c=n("rePB"),d=n("03FM"),l=n("396a"),s=n("i7Pf"),u=n("uNJL"),p=n("Cjvp"),v=n("jxKE"),f=n("Vgjn"),g=n("VMC0"),h=n("XZhq"),y=n("5R4e"),O=n("OYQK"),_=n("clVV"),b=n("Evd+"),m=n("OpYl"),j=n("pLgj"),S=n("fNkK"),w=n("mA5Z"),x=n("QJIx"),E=n("7WXn");function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={categories:[JSON.parse(JSON.stringify(new u.a(!0,!1,!1,v.f.PROJECT_CATEGORY)))]},N={entities:{1:{hash:1,type:"MarkdownEditor",content:x.a}},ids:[1],selectedHash:1},I=function(t,e){return t.findIndex((function(t){return t.id===e}))},k="ProjectWebpackBin",L={SPA:k,CODE:"ProjectCodingWidget"},A=function(t){var e,n,o,i,a;return 1===(null===(e=t.content)||void 0===e||null===(n=e.descriptionWidgets)||void 0===n?void 0:n.length)&&(t.content.descriptionWidgets={entities:{1:{hash:1,type:"MarkdownEditor",content:t.content.descriptionWidgets[0]}},ids:[1],selectedHash:1}),C(C({},t),{},{content:{descriptionWidgets:(null===(o=t.content)||void 0===o?void 0:o.descriptionWidgets)||N,codeContent:C(C({},(null===(i=t.content)||void 0===i?void 0:i.codeContent)||w.b),{},{isProject:!0}),type:(null===(a=t.content)||void 0===a?void 0:a.type)||k}})},D=Object(d.a)(),J=D.initialState,R=D.reducers,U=Object(s.b)({name:"project",initialState:C(C({},J),{},{dirty:!1,component:null}),reducers:C(C({},R),{},{updateProjectTitle:function(t,e){var n=e.payload;t.data.title=n,t.dirty=!0},updateProjectContent:{reducer:function(t,e){var n,o,i=e.payload,a=i.hash,r=i.contentUpdater,c=i.cb,d=void 0===c?function(){}:c,l=null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.content)||void 0===o?void 0:o.entities[a];if(l){var s;if("function"===typeof r)l.content=null!==(s=r(l.content))&&void 0!==s?s:l.content;else l.content=C(C({},l.content),r);null===d||void 0===d||d(),l.iteration++,t.dirty=!0}},prepare:function(t,e,n){return{payload:{hash:t,contentUpdater:e,cb:n}}}},editProjectToggle:function(t,e){var n=e.payload;t.data.content.selectedHash===n?t.data.content.selectedHash=void 0:t.data.content.selectedHash=n},editComponentToggle:function(t,e){var n=e.payload;t.component.content.descriptionWidgets.selectedHash===n?t.component.content.descriptionWidgets.selectedHash=void 0:t.component.content.descriptionWidgets.selectedHash=n},addProjectWidget:function(t,e){var n=e.payload,o=n.data,i=n.index;if(!t.data.content.entities[o.hash]){var a,c,d=null!==(a=o.hash)&&void 0!==a?a:Math.max.apply(Math,Object(r.a)(t.data.content.ids.length?t.data.content.ids:[0]))+1;0!==t.data.content.ids.length&&o.hash||(t.data.content.selectedHash=d),t.data.content.ids.splice((null!==(c=null!==i&&void 0!==i?i:t.data.content.selectedHash)&&void 0!==c?c:99999999)+1,0,d),t.data.content.entities[d]=C(C({},o),{},{iteration:0,hash:d}),t.dirty=!0}},removeProjectWidget:function(t,e){var n=e.payload;t.data.content.ids=t.data.content.ids.filter((function(t){return t!==n})),delete t.data.content.entities[n],t.dirty=!0},updateProjectSelectedWidget:function(t,e){var n=e.payload;t.data.content.selectedHash!==n&&(t.data.content.selectedHash=n)},moveProjectWidget:function(t,e){var n=e.payload,o=n.type,i=n.id,a=t.data.content.ids.indexOf(i);if("up"===o){var r=[t.data.content.ids[a-1],t.data.content.ids[a]];t.data.content.ids[a]=r[0],t.data.content.ids[a-1]=r[1]}else if("down"===o){var c=[t.data.content.ids[a+1],t.data.content.ids[a]];t.data.content.ids[a]=c[0],t.data.content.ids[a+1]=c[1]}},updateComponentDescription:{reducer:function(t,e){var n,o,i,a=e.payload,r=a.hash,c=a.contentUpdater,d=a.cb,l=void 0===d?function(){}:d,s=null===t||void 0===t||null===(n=t.component)||void 0===n||null===(o=n.content)||void 0===o||null===(i=o.descriptionWidgets)||void 0===i?void 0:i.entities[r];if(s){var u;if("function"===typeof c)s.content=null!==(u=c(s.content))&&void 0!==u?u:s.content;else s.content=C(C({},s.content),c);null===l||void 0===l||l(),s.iteration++,t.dirty=!0}},prepare:function(t,e,n){return{payload:{hash:t,contentUpdater:e,cb:n}}}},addComponentWidget:function(t,e){var n=e.payload,o=n.data,i=n.index;if(!t.component.content.descriptionWidgets.entities[o.hash]){var a,c,d=null!==(a=o.hash)&&void 0!==a?a:Math.max.apply(Math,Object(r.a)(t.component.content.descriptionWidgets.ids.length?t.component.content.descriptionWidgets.ids:[0]))+1;0!==t.component.content.descriptionWidgets.ids.length&&o.hash||(t.component.content.descriptionWidgets.selectedHash=d),t.component.content.descriptionWidgets.ids.splice((null!==(c=null!==i&&void 0!==i?i:t.component.content.descriptionWidgets.selectedHash)&&void 0!==c?c:99999999)+1,0,d),t.component.content.descriptionWidgets.entities[d]=C(C({},o),{},{iteration:0,hash:d}),t.dirty=!0}},removeComponentWidget:function(t,e){var n=e.payload;t.component.content.descriptionWidgets.ids=t.component.content.descriptionWidgets.ids.filter((function(t){return t!==n})),delete t.component.content.descriptionWidgets.entities[n],t.dirty=!0},updateComponentSelectedWidget:function(t,e){var n=e.payload;t.component.content.descriptionWidgets.selectedHash!==n&&(t.component.content.descriptionWidgets.selectedHash=n)},moveComponentWidget:function(t,e){var n=e.payload,o=n.type,i=n.id,a=t.component.content.descriptionWidgets.ids.indexOf(i);if("up"===o){var r=[t.component.content.descriptionWidgets.ids[a-1],t.component.content.descriptionWidgets.ids[a]];t.component.content.descriptionWidgets.ids[a]=r[0],t.component.content.descriptionWidgets.ids[a-1]=r[1]}else if("down"===o){var c=[t.component.content.descriptionWidgets.ids[a+1],t.component.content.descriptionWidgets.ids[a]];t.component.content.descriptionWidgets.ids[a]=c[0],t.component.content.descriptionWidgets.ids[a+1]=c[1]}},addUserDataResourceFile:function(t,e){var n=e.payload;t.data.udata_files.push(n),t.dirty=!0},toggleDirty:function(t){t.dirty=!t.dirty},updateUserDataResourceFile:function(t,e){var n=e.payload,o=n.payload,i=n.index;t.data.udata_files[i]=C(C({},t.data.udata_files[i]),o),t.dirty=!0},removeUserDataResourceFile:function(t,e){var n=e.payload.index;t.data.udata_files.splice(n,1),t.dirty=!0},addComponent:function(t,e){var n,o,i=e.payload,a=i.category_id,r=i.component,c=i.index;!function(t,e,n,o){var i,a,r,c,d=e.project_component_id;if(null==o){var l,s,u,f,g=new p.a(parseInt(d),v.t.PROJECT_COMPONENT);null===t||void 0===t||null===(l=t.data)||void 0===l||null===(s=l.toc)||void 0===s||null===(u=s.categories)||void 0===u||null===(f=u[n])||void 0===f||f.pages.push(JSON.parse(JSON.stringify(g)))}else null===t||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.toc)||void 0===a||null===(r=a.categories)||void 0===r||null===(c=r[n])||void 0===c||c.pages.splice(o+1,0,JSON.parse(JSON.stringify(new p.a(parseInt(d),v.t.PROJECT_COMPONENT))))}(t,r,I(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories,a),c),t.dirty=!0},updateComponentTitle:function(t,e){var n=e.payload,o=n.categoryId,i=n.projectComponentId,a=n.title;if(t.data){if(o){var r=I(t.data.toc.categories,o),c=I(t.data.toc.categories[r].pages,i);t.data.toc.categories[r].pages[c].title=a,t.data.toc.categories[r].pages[c].editMode=!1}t.dirty=!0}},moveComponentWithinOrigin:function(t,e){var n,o,i,a,r=e.payload,c=r.from,d=r.to,l=null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o||null===(i=o.categories)||void 0===i||null===(a=i[c.parentIndex])||void 0===a?void 0:a.pages;l.splice(d.itemIndex,0,l.splice(c.itemIndex,1)[0]),t.dirty=!0},removeComponent:function(t,e){var n,o,i,a,r,c,d=e.payload,l=d.category_id,s=d.article_id,u=I(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.toc)||void 0===o?void 0:o.categories,l),p=I(null===t||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.toc)||void 0===a||null===(r=a.categories)||void 0===r||null===(c=r[u])||void 0===c?void 0:c.pages,s);t.data.toc.categories[u].pages.splice(p,1),t.dirty=!0},updateComponentDetails:function(t,e){var n=e.payload;t.component.content.descriptionWidgets=n.content.descriptionWidgets,t.dirty=!0},updateComponentETag:function(t,e){var n,o=e.payload;t.component=null!==(n=t.component)&&void 0!==n?n:null,t.component[f.a]=o[f.a],o.saved&&(t.dirty=!1)},setComponent:function(t,e){var n=e.payload;t.component=A(n.data),t.component[f.a]=n[f.a]},postProjectSave:function(t,e){var n=e.payload;t.data[f.a]=n,t.dirty=!1},clearComponent:function(t){t.component=null},updateComponentCode:function(t,e){var n,o=e.payload;(t.dirty=!0,"function"!==typeof o)?t.component&&(t.component.content.codeContent=C(C(C({},t.component.content.codeContent),o),{},{comp_id:(null===(n=t.component.content.codeContent)||void 0===n?void 0:n.comp_id)||Object(s.d)()})):o(t.component.content.codeContent)},updateCodeContentInViewMode:function(t,e){var n=e.payload;t.component.content.type===k?t.component.content.codeContent.codeContents=n:t.component.content.codeContent=n},updateCodingEnv:function(t,e){var n=e.payload;t.component.content.type=n,t.component.content.codeContent=n===k?w.b:E.a}})});e.b=U.reducer;var M=C(C({},U.actions),{},{load:function(t){var e=t.authorId,n=t.collectionId,o=t.projectId,i=t.courseUrlSlug,a=void 0===i?"":i,r=t.pageUrlSlug,d=void 0===r?"":r,s=t.mode;return function(t){var i=a&&d?"project/".concat(a,"/").concat(d):"project/".concat(e,"/").concat(n,"/").concat(o),r="view"===s?i:"author/".concat(e,"/collection/").concat(n,"/project/").concat(o);return t(Object(c.a)({},l.a,{types:U.actions,endpoint:r,postProcess:q,getHeaders:!0})).then((function(e){e&&t(M.updateETag(e.xhr.headers.get(f.a)))}))}},save:function(t){var e=t.project;return function(t){return Object(_.B)(F(e)).then((function(e){e&&t(M.postProjectSave(e.xhr.headers.get(f.a)))}))}},prepareDockerOnSetProject:function(t){return function(){var e=Object(a.a)(i.a.mark((function e(n,o){var a,r,c,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===t||void 0===t?void 0:t.docker)?C(C({},t.docker),{},{envs:null!==(a=t.docker.envs)&&void 0!==a?a:[]}):b.e,e.next=3,Object(m.g)();case 3:c=e.sent,d=C(C({},r),{},{container:C(C({},r.container),{},{liveInstance:c})}),n(j.b.setObject(d));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},saveComponent:function(t){var e=t.component;return function(t){return Object(_.A)(e).then((function(e){var n;e&&t(M.updateComponentETag((n={},Object(c.a)(n,f.a,e.xhr.headers.get(f.a)),Object(c.a)(n,"saved",!0),n)))}))}},loadComponent:function(t){return function(e){return Object(_.v)(t).then((function(t){if(null===t||void 0===t?void 0:t.data){var n=A(JSON.parse(t.data));return e(M.setComponent(Object(c.a)({data:n},f.a,t.xhr.headers.get(f.a)))),n}}))}}}),W=function t(e,n){return function(e,o){return n&&e(n),e(g.b.show(h.w,{status:"WAIT",text:"Saving Project"})),e(M.save({project:C(C({},o().project.data),{},{docker:JSON.stringify(Object(b.b)(o().dockerDetails))})})).then((function(){e(g.b.show(h.w,{status:"SUCCESS",text:"Project saved"}))})).catch((function(o){var i;Object(y.a)(o,e);var a=null===o||void 0===o||null===(i=o.responseJSON)||void 0===i?void 0:i.errorText;o.status===O.c.AlreadyExistsException&&a===O.b.versionOutDatedMessage?e(G((function(){e(M.updateETag(v.M)),e(t(void 0,n))}))):e(g.b.show(h.w,{status:"ERROR",text:"Failed to save project"}))}))}},q=function(t){var e=t.data,n=JSON.parse(e),o=n.toc;return Object.keys(o).length||(n=C(C({},n),{},{toc:P})),n.summary&&(n.content={entities:{1:{hash:1,type:"MarkdownEditor",content:n.summary}},ids:[1],selectedHash:1}),n.content||(n.content=N),n},F=function(t){var e=t.udata_files.map((function(t){return t.file_id}));e=JSON.stringify(e);var n=JSON.stringify(t.toc);return C(C({},t),{},{udata_files:e,toc:n})},H=function t(e){return function(n,o){return e&&n(e),n(g.b.show(h.w,{status:"WAIT",text:"Saving Component"})),n(M.saveComponent({component:o().project.component})).then((function(){n(g.b.show(h.w,{status:"SUCCESS",text:"Component saved"}))})).catch((function(o){var i,a=null===o||void 0===o||null===(i=o.responseJSON)||void 0===i?void 0:i.errorText;o.status===O.c.AlreadyExistsException&&a===O.b.versionOutDatedMessage?n(G((function(){n(M.updateComponentETag(Object(c.a)({},f.a,v.M))),n(t(e))}))):n(g.b.show(h.w,{status:"ERROR",text:"Failed to save component"}))}))}},Q=function(t,e,n,o){return function(i){var a=o.file.name.split(" ").join("-"),r="/api/author/".concat(t,"/collection/").concat(e,"/containers/").concat(a,"/get_upload_url?project_id=").concat(n);return Object(S.a)({url:r,type:"GET"}).then(JSON.parse).then((function(t){var e=t.gcs_object_name,n=t.container_id,r=void 0===n?-1:n,c=t.blob_upload_url,d=t.upload_success_url,l=t.build_status_url,s=t.tarball_download_url,u=t.build_log_url,p=t.rebuild_image_url;return i(j.b.setFile(C(C({},o),{},{id:r,buildStatusUrl:l,tarballDownloadUrl:s,buildLogUrl:u,rebuildImageUrl:p,file:{name:a,size:o.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return Object(S.a)({url:d,type:"POST",data:{gcs_object_name:e}},!0)},upload:function(){return Object(S.a)({url:c,type:"POST",data:o.file,processData:!1,contentType:o.file.type})}}})).catch((function(t){console.log(t)}))}},G=function(t){return function(e){e(g.b.close()),e(g.b.show(h.i,{onConfirm:t,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}}},uNJL:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n("1OyB"),i=n("rePB"),a=n("4mnY"),r=n("I1F8"),c=n("jxKE"),d=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.f.COLLECTION_CATEGORY,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Object(a.a)(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0;Object(o.a)(this,t),Object(i.a)(this,"id",void 0),Object(i.a)(this,"title",void 0),Object(i.a)(this,"pages",void 0),Object(i.a)(this,"editMode",void 0),Object(i.a)(this,"type",void 0),Object(i.a)(this,"author_id",void 0),Object(i.a)(this,"collection_id",void 0),Object(i.a)(this,"page_id",void 0),this.id=d?r.a:s,this.title=v||(e?"__default":d?"Recovered Lessons":l===c.f.ASSESSMENT?"Untitled Assessment":l===c.f.PROJECT?"Untitled Project":""),this.pages=[],this.editMode=n,this.type=l,this.author_id=u,this.collection_id=p,this.page_id=f}}}]);
//# sourceMappingURL=2dd14f19b4963663a1013d02bf23a4ea5cf9d04c.f269068c860bf9f41360.js.map